{"ast":null,"code":"var echarts = require('echarts/lib/echarts');\nfunction getShallow(model, path) {\n  return model && model.getShallow(path);\n}\necharts.extendChartView({\n  type: 'wordCloud',\n  render: function (seriesModel, ecModel, api) {\n    var group = this.group;\n    group.removeAll();\n    var data = seriesModel.getData();\n    var gridSize = seriesModel.get('gridSize');\n    seriesModel.layoutInstance.ondraw = function (text, size, dataIdx, drawn) {\n      var itemModel = data.getItemModel(dataIdx);\n      var textStyleModel = itemModel.getModel('textStyle.normal');\n      var emphasisTextStyleModel = itemModel.getModel('textStyle.emphasis');\n      var textEl = new echarts.graphic.Text({\n        style: echarts.graphic.setTextStyle({}, textStyleModel, {\n          x: drawn.info.fillTextOffsetX,\n          y: drawn.info.fillTextOffsetY + size * 0.5,\n          text: text,\n          textBaseline: 'middle',\n          textFill: data.getItemVisual(dataIdx, 'color'),\n          fontSize: size\n        }),\n        scale: [1 / drawn.info.mu, 1 / drawn.info.mu],\n        position: [(drawn.gx + drawn.info.gw / 2) * gridSize, (drawn.gy + drawn.info.gh / 2) * gridSize],\n        rotation: drawn.rot\n      });\n      group.add(textEl);\n      data.setItemGraphicEl(dataIdx, textEl);\n      echarts.graphic.setHoverStyle(textEl, echarts.graphic.setTextStyle({}, emphasisTextStyleModel, null, {\n        forMerge: true\n      }, true));\n    };\n    this._model = seriesModel;\n  },\n  remove: function () {\n    this.group.removeAll();\n    this._model.layoutInstance.dispose();\n  },\n  dispose: function () {\n    this._model.layoutInstance.dispose();\n  }\n});","map":{"version":3,"names":["echarts","require","getShallow","model","path","extendChartView","type","render","seriesModel","ecModel","api","group","removeAll","data","getData","gridSize","get","layoutInstance","ondraw","text","size","dataIdx","drawn","itemModel","getItemModel","textStyleModel","getModel","emphasisTextStyleModel","textEl","graphic","Text","style","setTextStyle","x","info","fillTextOffsetX","y","fillTextOffsetY","textBaseline","textFill","getItemVisual","fontSize","scale","mu","position","gx","gw","gy","gh","rotation","rot","add","setItemGraphicEl","setHoverStyle","forMerge","_model","remove","dispose"],"sources":["/Users/tangxinyu/WebstormProjects/cs209a_proj/node_modules/echarts-wordcloud/src/WordCloudView.js"],"sourcesContent":["var echarts = require('echarts/lib/echarts');\n\nfunction getShallow(model, path) {\n    return model && model.getShallow(path);\n}\n\necharts.extendChartView({\n\n    type: 'wordCloud',\n\n    render: function (seriesModel, ecModel, api) {\n        var group = this.group;\n        group.removeAll();\n\n        var data = seriesModel.getData();\n\n        var gridSize = seriesModel.get('gridSize');\n\n        seriesModel.layoutInstance.ondraw = function (text, size, dataIdx, drawn) {\n            var itemModel = data.getItemModel(dataIdx);\n            var textStyleModel = itemModel.getModel('textStyle.normal');\n            var emphasisTextStyleModel = itemModel.getModel('textStyle.emphasis');\n\n            var textEl = new echarts.graphic.Text({\n                style: echarts.graphic.setTextStyle({}, textStyleModel, {\n                    x: drawn.info.fillTextOffsetX,\n                    y: drawn.info.fillTextOffsetY + size * 0.5,\n                    text: text,\n                    textBaseline: 'middle',\n                    textFill: data.getItemVisual(dataIdx, 'color'),\n                    fontSize: size\n                }),\n                scale: [1 / drawn.info.mu, 1 / drawn.info.mu],\n                position: [\n                    (drawn.gx + drawn.info.gw / 2) * gridSize,\n                    (drawn.gy + drawn.info.gh / 2) * gridSize\n                ],\n                rotation: drawn.rot\n            });\n\n            group.add(textEl);\n\n            data.setItemGraphicEl(dataIdx, textEl);\n\n            echarts.graphic.setHoverStyle(\n                textEl,\n                echarts.graphic.setTextStyle({}, emphasisTextStyleModel, null, {forMerge: true}, true)\n            );\n        };\n\n        this._model = seriesModel;\n    },\n\n    remove: function () {\n        this.group.removeAll();\n\n        this._model.layoutInstance.dispose();\n    },\n\n    dispose: function () {\n        this._model.layoutInstance.dispose();\n    }\n});\n"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AAE5C,SAASC,UAAU,CAACC,KAAK,EAAEC,IAAI,EAAE;EAC7B,OAAOD,KAAK,IAAIA,KAAK,CAACD,UAAU,CAACE,IAAI,CAAC;AAC1C;AAEAJ,OAAO,CAACK,eAAe,CAAC;EAEpBC,IAAI,EAAE,WAAW;EAEjBC,MAAM,EAAE,UAAUC,WAAW,EAAEC,OAAO,EAAEC,GAAG,EAAE;IACzC,IAAIC,KAAK,GAAG,IAAI,CAACA,KAAK;IACtBA,KAAK,CAACC,SAAS,EAAE;IAEjB,IAAIC,IAAI,GAAGL,WAAW,CAACM,OAAO,EAAE;IAEhC,IAAIC,QAAQ,GAAGP,WAAW,CAACQ,GAAG,CAAC,UAAU,CAAC;IAE1CR,WAAW,CAACS,cAAc,CAACC,MAAM,GAAG,UAAUC,IAAI,EAAEC,IAAI,EAAEC,OAAO,EAAEC,KAAK,EAAE;MACtE,IAAIC,SAAS,GAAGV,IAAI,CAACW,YAAY,CAACH,OAAO,CAAC;MAC1C,IAAII,cAAc,GAAGF,SAAS,CAACG,QAAQ,CAAC,kBAAkB,CAAC;MAC3D,IAAIC,sBAAsB,GAAGJ,SAAS,CAACG,QAAQ,CAAC,oBAAoB,CAAC;MAErE,IAAIE,MAAM,GAAG,IAAI5B,OAAO,CAAC6B,OAAO,CAACC,IAAI,CAAC;QAClCC,KAAK,EAAE/B,OAAO,CAAC6B,OAAO,CAACG,YAAY,CAAC,CAAC,CAAC,EAAEP,cAAc,EAAE;UACpDQ,CAAC,EAAEX,KAAK,CAACY,IAAI,CAACC,eAAe;UAC7BC,CAAC,EAAEd,KAAK,CAACY,IAAI,CAACG,eAAe,GAAGjB,IAAI,GAAG,GAAG;UAC1CD,IAAI,EAAEA,IAAI;UACVmB,YAAY,EAAE,QAAQ;UACtBC,QAAQ,EAAE1B,IAAI,CAAC2B,aAAa,CAACnB,OAAO,EAAE,OAAO,CAAC;UAC9CoB,QAAQ,EAAErB;QACd,CAAC,CAAC;QACFsB,KAAK,EAAE,CAAC,CAAC,GAAGpB,KAAK,CAACY,IAAI,CAACS,EAAE,EAAE,CAAC,GAAGrB,KAAK,CAACY,IAAI,CAACS,EAAE,CAAC;QAC7CC,QAAQ,EAAE,CACN,CAACtB,KAAK,CAACuB,EAAE,GAAGvB,KAAK,CAACY,IAAI,CAACY,EAAE,GAAG,CAAC,IAAI/B,QAAQ,EACzC,CAACO,KAAK,CAACyB,EAAE,GAAGzB,KAAK,CAACY,IAAI,CAACc,EAAE,GAAG,CAAC,IAAIjC,QAAQ,CAC5C;QACDkC,QAAQ,EAAE3B,KAAK,CAAC4B;MACpB,CAAC,CAAC;MAEFvC,KAAK,CAACwC,GAAG,CAACvB,MAAM,CAAC;MAEjBf,IAAI,CAACuC,gBAAgB,CAAC/B,OAAO,EAAEO,MAAM,CAAC;MAEtC5B,OAAO,CAAC6B,OAAO,CAACwB,aAAa,CACzBzB,MAAM,EACN5B,OAAO,CAAC6B,OAAO,CAACG,YAAY,CAAC,CAAC,CAAC,EAAEL,sBAAsB,EAAE,IAAI,EAAE;QAAC2B,QAAQ,EAAE;MAAI,CAAC,EAAE,IAAI,CAAC,CACzF;IACL,CAAC;IAED,IAAI,CAACC,MAAM,GAAG/C,WAAW;EAC7B,CAAC;EAEDgD,MAAM,EAAE,YAAY;IAChB,IAAI,CAAC7C,KAAK,CAACC,SAAS,EAAE;IAEtB,IAAI,CAAC2C,MAAM,CAACtC,cAAc,CAACwC,OAAO,EAAE;EACxC,CAAC;EAEDA,OAAO,EAAE,YAAY;IACjB,IAAI,CAACF,MAAM,CAACtC,cAAc,CAACwC,OAAO,EAAE;EACxC;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}