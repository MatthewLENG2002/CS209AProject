{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME emphasis label position is not same with normal label position\nvar RADIAN = Math.PI / 180;\nfunction adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight) {\n  list.sort(function (a, b) {\n    return a.y - b.y;\n  });\n  function shiftDown(start, end, delta, dir) {\n    for (var j = start; j < end; j++) {\n      list[j].y += delta;\n      if (j > start && j + 1 < end && list[j + 1].y > list[j].y + list[j].height) {\n        shiftUp(j, delta / 2);\n        return;\n      }\n    }\n    shiftUp(end - 1, delta / 2);\n  }\n  function shiftUp(end, delta) {\n    for (var j = end; j >= 0; j--) {\n      list[j].y -= delta;\n      if (j > 0 && list[j].y > list[j - 1].y + list[j - 1].height) {\n        break;\n      }\n    }\n  }\n  function changeX(list, isDownList, cx, cy, r, dir) {\n    var lastDeltaX = dir > 0 ? isDownList // right-side\n    ? Number.MAX_VALUE // down\n    : 0 // up\n    : isDownList // left-side\n    ? Number.MAX_VALUE // down\n    : 0; // up\n\n    for (var i = 0, l = list.length; i < l; i++) {\n      var deltaY = Math.abs(list[i].y - cy);\n      var length = list[i].len;\n      var length2 = list[i].len2;\n      var deltaX = deltaY < r + length ? Math.sqrt((r + length + length2) * (r + length + length2) - deltaY * deltaY) : Math.abs(list[i].x - cx);\n      if (isDownList && deltaX >= lastDeltaX) {\n        // right-down, left-down\n        deltaX = lastDeltaX - 10;\n      }\n      if (!isDownList && deltaX <= lastDeltaX) {\n        // right-up, left-up\n        deltaX = lastDeltaX + 10;\n      }\n      list[i].x = cx + deltaX * dir;\n      lastDeltaX = deltaX;\n    }\n  }\n  var lastY = 0;\n  var delta;\n  var len = list.length;\n  var upList = [];\n  var downList = [];\n  for (var i = 0; i < len; i++) {\n    delta = list[i].y - lastY;\n    if (delta < 0) {\n      shiftDown(i, len, -delta, dir);\n    }\n    lastY = list[i].y + list[i].height;\n  }\n  if (viewHeight - lastY < 0) {\n    shiftUp(len - 1, lastY - viewHeight);\n  }\n  for (var i = 0; i < len; i++) {\n    if (list[i].y >= cy) {\n      downList.push(list[i]);\n    } else {\n      upList.push(list[i]);\n    }\n  }\n  changeX(upList, false, cx, cy, r, dir);\n  changeX(downList, true, cx, cy, r, dir);\n}\nfunction avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight) {\n  var leftList = [];\n  var rightList = [];\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    if (isPositionCenter(labelLayoutList[i])) {\n      continue;\n    }\n    if (labelLayoutList[i].x < cx) {\n      leftList.push(labelLayoutList[i]);\n    } else {\n      rightList.push(labelLayoutList[i]);\n    }\n  }\n  adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight);\n  adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight);\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    if (isPositionCenter(labelLayoutList[i])) {\n      continue;\n    }\n    var linePoints = labelLayoutList[i].linePoints;\n    if (linePoints) {\n      var dist = linePoints[1][0] - linePoints[2][0];\n      if (labelLayoutList[i].x < cx) {\n        linePoints[2][0] = labelLayoutList[i].x + 3;\n      } else {\n        linePoints[2][0] = labelLayoutList[i].x - 3;\n      }\n      linePoints[1][1] = linePoints[2][1] = labelLayoutList[i].y;\n      linePoints[1][0] = linePoints[2][0] + dist;\n    }\n  }\n}\nfunction isPositionCenter(layout) {\n  // Not change x for center label\n  return layout.position === 'center';\n}\nfunction _default(seriesModel, r, viewWidth, viewHeight, sum) {\n  var data = seriesModel.getData();\n  var labelLayoutList = [];\n  var cx;\n  var cy;\n  var hasLabelRotate = false;\n  var minShowLabelRadian = (seriesModel.get('minShowLabelAngle') || 0) * RADIAN;\n  data.each(function (idx) {\n    var layout = data.getItemLayout(idx);\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label'); // Use position in normal or emphasis\n\n    var labelPosition = labelModel.get('position') || itemModel.get('emphasis.label.position');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineLen = labelLineModel.get('length');\n    var labelLineLen2 = labelLineModel.get('length2');\n    if (layout.angle < minShowLabelRadian) {\n      return;\n    }\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var textX;\n    var textY;\n    var linePoints;\n    var textAlign;\n    cx = layout.cx;\n    cy = layout.cy;\n    var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n    if (labelPosition === 'center') {\n      textX = layout.cx;\n      textY = layout.cy;\n      textAlign = 'center';\n    } else {\n      var x1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dx : layout.r * dx) + cx;\n      var y1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dy : layout.r * dy) + cy;\n      textX = x1 + dx * 3;\n      textY = y1 + dy * 3;\n      if (!isLabelInside) {\n        // For roseType\n        var x2 = x1 + dx * (labelLineLen + r - layout.r);\n        var y2 = y1 + dy * (labelLineLen + r - layout.r);\n        var x3 = x2 + (dx < 0 ? -1 : 1) * labelLineLen2;\n        var y3 = y2;\n        textX = x3 + (dx < 0 ? -5 : 5);\n        textY = y3;\n        linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n      }\n      textAlign = isLabelInside ? 'center' : dx > 0 ? 'left' : 'right';\n    }\n    var font = labelModel.getFont();\n    var labelRotate;\n    var rotate = labelModel.get('rotate');\n    if (typeof rotate === 'number') {\n      labelRotate = rotate * (Math.PI / 180);\n    } else {\n      labelRotate = rotate ? dx < 0 ? -midAngle + Math.PI : -midAngle : 0;\n    }\n    var text = seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx);\n    var textRect = textContain.getBoundingRect(text, font, textAlign, 'top');\n    hasLabelRotate = !!labelRotate;\n    layout.label = {\n      x: textX,\n      y: textY,\n      position: labelPosition,\n      height: textRect.height,\n      len: labelLineLen,\n      len2: labelLineLen2,\n      linePoints: linePoints,\n      textAlign: textAlign,\n      verticalAlign: 'middle',\n      rotation: labelRotate,\n      inside: isLabelInside\n    }; // Not layout the inside label\n\n    if (!isLabelInside) {\n      labelLayoutList.push(layout.label);\n    }\n  });\n  if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n    avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight);\n  }\n}\nmodule.exports = _default;","map":{"version":3,"names":["textContain","require","RADIAN","Math","PI","adjustSingleSide","list","cx","cy","r","dir","viewWidth","viewHeight","sort","a","b","y","shiftDown","start","end","delta","j","height","shiftUp","changeX","isDownList","lastDeltaX","Number","MAX_VALUE","i","l","length","deltaY","abs","len","length2","len2","deltaX","sqrt","x","lastY","upList","downList","push","avoidOverlap","labelLayoutList","leftList","rightList","isPositionCenter","linePoints","dist","layout","position","_default","seriesModel","sum","data","getData","hasLabelRotate","minShowLabelRadian","get","each","idx","getItemLayout","itemModel","getItemModel","labelModel","getModel","labelPosition","labelLineModel","labelLineLen","labelLineLen2","angle","midAngle","startAngle","endAngle","dx","cos","dy","sin","textX","textY","textAlign","isLabelInside","x1","r0","y1","x2","y2","x3","y3","font","getFont","labelRotate","rotate","text","getFormattedLabel","getName","textRect","getBoundingRect","label","verticalAlign","rotation","inside","module","exports"],"sources":["/Users/tangxinyu/WebstormProjects/cs209a_proj/node_modules/echarts/lib/chart/pie/labelLayout.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME emphasis label position is not same with normal label position\nvar RADIAN = Math.PI / 180;\n\nfunction adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight) {\n  list.sort(function (a, b) {\n    return a.y - b.y;\n  });\n\n  function shiftDown(start, end, delta, dir) {\n    for (var j = start; j < end; j++) {\n      list[j].y += delta;\n\n      if (j > start && j + 1 < end && list[j + 1].y > list[j].y + list[j].height) {\n        shiftUp(j, delta / 2);\n        return;\n      }\n    }\n\n    shiftUp(end - 1, delta / 2);\n  }\n\n  function shiftUp(end, delta) {\n    for (var j = end; j >= 0; j--) {\n      list[j].y -= delta;\n\n      if (j > 0 && list[j].y > list[j - 1].y + list[j - 1].height) {\n        break;\n      }\n    }\n  }\n\n  function changeX(list, isDownList, cx, cy, r, dir) {\n    var lastDeltaX = dir > 0 ? isDownList // right-side\n    ? Number.MAX_VALUE // down\n    : 0 // up\n    : isDownList // left-side\n    ? Number.MAX_VALUE // down\n    : 0; // up\n\n    for (var i = 0, l = list.length; i < l; i++) {\n      var deltaY = Math.abs(list[i].y - cy);\n      var length = list[i].len;\n      var length2 = list[i].len2;\n      var deltaX = deltaY < r + length ? Math.sqrt((r + length + length2) * (r + length + length2) - deltaY * deltaY) : Math.abs(list[i].x - cx);\n\n      if (isDownList && deltaX >= lastDeltaX) {\n        // right-down, left-down\n        deltaX = lastDeltaX - 10;\n      }\n\n      if (!isDownList && deltaX <= lastDeltaX) {\n        // right-up, left-up\n        deltaX = lastDeltaX + 10;\n      }\n\n      list[i].x = cx + deltaX * dir;\n      lastDeltaX = deltaX;\n    }\n  }\n\n  var lastY = 0;\n  var delta;\n  var len = list.length;\n  var upList = [];\n  var downList = [];\n\n  for (var i = 0; i < len; i++) {\n    delta = list[i].y - lastY;\n\n    if (delta < 0) {\n      shiftDown(i, len, -delta, dir);\n    }\n\n    lastY = list[i].y + list[i].height;\n  }\n\n  if (viewHeight - lastY < 0) {\n    shiftUp(len - 1, lastY - viewHeight);\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].y >= cy) {\n      downList.push(list[i]);\n    } else {\n      upList.push(list[i]);\n    }\n  }\n\n  changeX(upList, false, cx, cy, r, dir);\n  changeX(downList, true, cx, cy, r, dir);\n}\n\nfunction avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight) {\n  var leftList = [];\n  var rightList = [];\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    if (isPositionCenter(labelLayoutList[i])) {\n      continue;\n    }\n\n    if (labelLayoutList[i].x < cx) {\n      leftList.push(labelLayoutList[i]);\n    } else {\n      rightList.push(labelLayoutList[i]);\n    }\n  }\n\n  adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight);\n  adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight);\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    if (isPositionCenter(labelLayoutList[i])) {\n      continue;\n    }\n\n    var linePoints = labelLayoutList[i].linePoints;\n\n    if (linePoints) {\n      var dist = linePoints[1][0] - linePoints[2][0];\n\n      if (labelLayoutList[i].x < cx) {\n        linePoints[2][0] = labelLayoutList[i].x + 3;\n      } else {\n        linePoints[2][0] = labelLayoutList[i].x - 3;\n      }\n\n      linePoints[1][1] = linePoints[2][1] = labelLayoutList[i].y;\n      linePoints[1][0] = linePoints[2][0] + dist;\n    }\n  }\n}\n\nfunction isPositionCenter(layout) {\n  // Not change x for center label\n  return layout.position === 'center';\n}\n\nfunction _default(seriesModel, r, viewWidth, viewHeight, sum) {\n  var data = seriesModel.getData();\n  var labelLayoutList = [];\n  var cx;\n  var cy;\n  var hasLabelRotate = false;\n  var minShowLabelRadian = (seriesModel.get('minShowLabelAngle') || 0) * RADIAN;\n  data.each(function (idx) {\n    var layout = data.getItemLayout(idx);\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label'); // Use position in normal or emphasis\n\n    var labelPosition = labelModel.get('position') || itemModel.get('emphasis.label.position');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineLen = labelLineModel.get('length');\n    var labelLineLen2 = labelLineModel.get('length2');\n\n    if (layout.angle < minShowLabelRadian) {\n      return;\n    }\n\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var textX;\n    var textY;\n    var linePoints;\n    var textAlign;\n    cx = layout.cx;\n    cy = layout.cy;\n    var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n\n    if (labelPosition === 'center') {\n      textX = layout.cx;\n      textY = layout.cy;\n      textAlign = 'center';\n    } else {\n      var x1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dx : layout.r * dx) + cx;\n      var y1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dy : layout.r * dy) + cy;\n      textX = x1 + dx * 3;\n      textY = y1 + dy * 3;\n\n      if (!isLabelInside) {\n        // For roseType\n        var x2 = x1 + dx * (labelLineLen + r - layout.r);\n        var y2 = y1 + dy * (labelLineLen + r - layout.r);\n        var x3 = x2 + (dx < 0 ? -1 : 1) * labelLineLen2;\n        var y3 = y2;\n        textX = x3 + (dx < 0 ? -5 : 5);\n        textY = y3;\n        linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n      }\n\n      textAlign = isLabelInside ? 'center' : dx > 0 ? 'left' : 'right';\n    }\n\n    var font = labelModel.getFont();\n    var labelRotate;\n    var rotate = labelModel.get('rotate');\n\n    if (typeof rotate === 'number') {\n      labelRotate = rotate * (Math.PI / 180);\n    } else {\n      labelRotate = rotate ? dx < 0 ? -midAngle + Math.PI : -midAngle : 0;\n    }\n\n    var text = seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx);\n    var textRect = textContain.getBoundingRect(text, font, textAlign, 'top');\n    hasLabelRotate = !!labelRotate;\n    layout.label = {\n      x: textX,\n      y: textY,\n      position: labelPosition,\n      height: textRect.height,\n      len: labelLineLen,\n      len2: labelLineLen2,\n      linePoints: linePoints,\n      textAlign: textAlign,\n      verticalAlign: 'middle',\n      rotation: labelRotate,\n      inside: isLabelInside\n    }; // Not layout the inside label\n\n    if (!isLabelInside) {\n      labelLayoutList.push(layout.label);\n    }\n  });\n\n  if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n    avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight);\n  }\n}\n\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}