{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar layout = require(\"../../util/layout\");\nvar _number = require(\"../../util/number\");\nvar parsePercent = _number.parsePercent;\nvar linearMap = _number.linearMap;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\nfunction getSortedIndices(data, sort) {\n  var valueDim = data.mapDimension('value');\n  var valueArr = data.mapArray(valueDim, function (val) {\n    return val;\n  });\n  var indices = [];\n  var isAscending = sort === 'ascending';\n  for (var i = 0, len = data.count(); i < len; i++) {\n    indices[i] = i;\n  } // Add custom sortable function & none sortable opetion by \"options.sort\"\n\n  if (typeof sort === 'function') {\n    indices.sort(sort);\n  } else if (sort !== 'none') {\n    indices.sort(function (a, b) {\n      return isAscending ? valueArr[a] - valueArr[b] : valueArr[b] - valueArr[a];\n    });\n  }\n  return indices;\n}\nfunction labelLayout(data) {\n  data.each(function (idx) {\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label');\n    var labelPosition = labelModel.get('position');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var layout = data.getItemLayout(idx);\n    var points = layout.points;\n    var isLabelInside = labelPosition === 'inner' || labelPosition === 'inside' || labelPosition === 'center' || labelPosition === 'insideLeft' || labelPosition === 'insideRight';\n    var textAlign;\n    var textX;\n    var textY;\n    var linePoints;\n    if (isLabelInside) {\n      if (labelPosition === 'insideLeft') {\n        textX = (points[0][0] + points[3][0]) / 2 + 5;\n        textY = (points[0][1] + points[3][1]) / 2;\n        textAlign = 'left';\n      } else if (labelPosition === 'insideRight') {\n        textX = (points[1][0] + points[2][0]) / 2 - 5;\n        textY = (points[1][1] + points[2][1]) / 2;\n        textAlign = 'right';\n      } else {\n        textX = (points[0][0] + points[1][0] + points[2][0] + points[3][0]) / 4;\n        textY = (points[0][1] + points[1][1] + points[2][1] + points[3][1]) / 4;\n        textAlign = 'center';\n      }\n      linePoints = [[textX, textY], [textX, textY]];\n    } else {\n      var x1;\n      var y1;\n      var x2;\n      var labelLineLen = labelLineModel.get('length');\n      if (labelPosition === 'left') {\n        // Left side\n        x1 = (points[3][0] + points[0][0]) / 2;\n        y1 = (points[3][1] + points[0][1]) / 2;\n        x2 = x1 - labelLineLen;\n        textX = x2 - 5;\n        textAlign = 'right';\n      } else if (labelPosition === 'right') {\n        // Right side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n        x2 = x1 + labelLineLen;\n        textX = x2 + 5;\n        textAlign = 'left';\n      } else if (labelPosition === 'rightTop') {\n        // RightTop side\n        x1 = points[1][0];\n        y1 = points[1][1];\n        x2 = x1 + labelLineLen;\n        textX = x2 + 5;\n        textAlign = 'top';\n      } else if (labelPosition === 'rightBottom') {\n        // RightBottom side\n        x1 = points[2][0];\n        y1 = points[2][1];\n        x2 = x1 + labelLineLen;\n        textX = x2 + 5;\n        textAlign = 'bottom';\n      } else if (labelPosition === 'leftTop') {\n        // LeftTop side\n        x1 = points[0][0];\n        y1 = points[1][1];\n        x2 = x1 - labelLineLen;\n        textX = x2 - 5;\n        textAlign = 'right';\n      } else if (labelPosition === 'leftBottom') {\n        // LeftBottom side\n        x1 = points[3][0];\n        y1 = points[2][1];\n        x2 = x1 - labelLineLen;\n        textX = x2 - 5;\n        textAlign = 'right';\n      } else {\n        // Right side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n        x2 = x1 + labelLineLen;\n        textX = x2 + 5;\n        textAlign = 'left';\n      }\n      var y2 = y1;\n      linePoints = [[x1, y1], [x2, y2]];\n      textY = y2;\n    }\n    layout.label = {\n      linePoints: linePoints,\n      x: textX,\n      y: textY,\n      verticalAlign: 'middle',\n      textAlign: textAlign,\n      inside: isLabelInside\n    };\n  });\n}\nfunction _default(ecModel, api, payload) {\n  ecModel.eachSeriesByType('funnel', function (seriesModel) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var sort = seriesModel.get('sort');\n    var viewRect = getViewRect(seriesModel, api);\n    var indices = getSortedIndices(data, sort);\n    var sizeExtent = [parsePercent(seriesModel.get('minSize'), viewRect.width), parsePercent(seriesModel.get('maxSize'), viewRect.width)];\n    var dataExtent = data.getDataExtent(valueDim);\n    var min = seriesModel.get('min');\n    var max = seriesModel.get('max');\n    if (min == null) {\n      min = Math.min(dataExtent[0], 0);\n    }\n    if (max == null) {\n      max = dataExtent[1];\n    }\n    var funnelAlign = seriesModel.get('funnelAlign');\n    var gap = seriesModel.get('gap');\n    var itemHeight = (viewRect.height - gap * (data.count() - 1)) / data.count();\n    var y = viewRect.y;\n    var getLinePoints = function (idx, offY) {\n      // End point index is data.count() and we assign it 0\n      var val = data.get(valueDim, idx) || 0;\n      var itemWidth = linearMap(val, [min, max], sizeExtent, true);\n      var x0;\n      switch (funnelAlign) {\n        case 'left':\n          x0 = viewRect.x;\n          break;\n        case 'center':\n          x0 = viewRect.x + (viewRect.width - itemWidth) / 2;\n          break;\n        case 'right':\n          x0 = viewRect.x + viewRect.width - itemWidth;\n          break;\n      }\n      return [[x0, offY], [x0 + itemWidth, offY]];\n    };\n    if (sort === 'ascending') {\n      // From bottom to top\n      itemHeight = -itemHeight;\n      gap = -gap;\n      y += viewRect.height;\n      indices = indices.reverse();\n    }\n    for (var i = 0; i < indices.length; i++) {\n      var idx = indices[i];\n      var nextIdx = indices[i + 1];\n      var itemModel = data.getItemModel(idx);\n      var height = itemModel.get('itemStyle.height');\n      if (height == null) {\n        height = itemHeight;\n      } else {\n        height = parsePercent(height, viewRect.height);\n        if (sort === 'ascending') {\n          height = -height;\n        }\n      }\n      var start = getLinePoints(idx, y);\n      var end = getLinePoints(nextIdx, y + height);\n      y += height + gap;\n      data.setItemLayout(idx, {\n        points: start.concat(end.slice().reverse())\n      });\n    }\n    labelLayout(data);\n  });\n}\nmodule.exports = _default;","map":{"version":3,"names":["layout","require","_number","parsePercent","linearMap","getViewRect","seriesModel","api","getLayoutRect","getBoxLayoutParams","width","getWidth","height","getHeight","getSortedIndices","data","sort","valueDim","mapDimension","valueArr","mapArray","val","indices","isAscending","i","len","count","a","b","labelLayout","each","idx","itemModel","getItemModel","labelModel","getModel","labelPosition","get","labelLineModel","getItemLayout","points","isLabelInside","textAlign","textX","textY","linePoints","x1","y1","x2","labelLineLen","y2","label","x","y","verticalAlign","inside","_default","ecModel","payload","eachSeriesByType","getData","viewRect","sizeExtent","dataExtent","getDataExtent","min","max","Math","funnelAlign","gap","itemHeight","getLinePoints","offY","itemWidth","x0","reverse","length","nextIdx","start","end","setItemLayout","concat","slice","module","exports"],"sources":["/Users/tangxinyu/WebstormProjects/cs209a_proj/node_modules/echarts/lib/chart/funnel/funnelLayout.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar layout = require(\"../../util/layout\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar linearMap = _number.linearMap;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nfunction getSortedIndices(data, sort) {\n  var valueDim = data.mapDimension('value');\n  var valueArr = data.mapArray(valueDim, function (val) {\n    return val;\n  });\n  var indices = [];\n  var isAscending = sort === 'ascending';\n\n  for (var i = 0, len = data.count(); i < len; i++) {\n    indices[i] = i;\n  } // Add custom sortable function & none sortable opetion by \"options.sort\"\n\n\n  if (typeof sort === 'function') {\n    indices.sort(sort);\n  } else if (sort !== 'none') {\n    indices.sort(function (a, b) {\n      return isAscending ? valueArr[a] - valueArr[b] : valueArr[b] - valueArr[a];\n    });\n  }\n\n  return indices;\n}\n\nfunction labelLayout(data) {\n  data.each(function (idx) {\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label');\n    var labelPosition = labelModel.get('position');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var layout = data.getItemLayout(idx);\n    var points = layout.points;\n    var isLabelInside = labelPosition === 'inner' || labelPosition === 'inside' || labelPosition === 'center' || labelPosition === 'insideLeft' || labelPosition === 'insideRight';\n    var textAlign;\n    var textX;\n    var textY;\n    var linePoints;\n\n    if (isLabelInside) {\n      if (labelPosition === 'insideLeft') {\n        textX = (points[0][0] + points[3][0]) / 2 + 5;\n        textY = (points[0][1] + points[3][1]) / 2;\n        textAlign = 'left';\n      } else if (labelPosition === 'insideRight') {\n        textX = (points[1][0] + points[2][0]) / 2 - 5;\n        textY = (points[1][1] + points[2][1]) / 2;\n        textAlign = 'right';\n      } else {\n        textX = (points[0][0] + points[1][0] + points[2][0] + points[3][0]) / 4;\n        textY = (points[0][1] + points[1][1] + points[2][1] + points[3][1]) / 4;\n        textAlign = 'center';\n      }\n\n      linePoints = [[textX, textY], [textX, textY]];\n    } else {\n      var x1;\n      var y1;\n      var x2;\n      var labelLineLen = labelLineModel.get('length');\n\n      if (labelPosition === 'left') {\n        // Left side\n        x1 = (points[3][0] + points[0][0]) / 2;\n        y1 = (points[3][1] + points[0][1]) / 2;\n        x2 = x1 - labelLineLen;\n        textX = x2 - 5;\n        textAlign = 'right';\n      } else if (labelPosition === 'right') {\n        // Right side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n        x2 = x1 + labelLineLen;\n        textX = x2 + 5;\n        textAlign = 'left';\n      } else if (labelPosition === 'rightTop') {\n        // RightTop side\n        x1 = points[1][0];\n        y1 = points[1][1];\n        x2 = x1 + labelLineLen;\n        textX = x2 + 5;\n        textAlign = 'top';\n      } else if (labelPosition === 'rightBottom') {\n        // RightBottom side\n        x1 = points[2][0];\n        y1 = points[2][1];\n        x2 = x1 + labelLineLen;\n        textX = x2 + 5;\n        textAlign = 'bottom';\n      } else if (labelPosition === 'leftTop') {\n        // LeftTop side\n        x1 = points[0][0];\n        y1 = points[1][1];\n        x2 = x1 - labelLineLen;\n        textX = x2 - 5;\n        textAlign = 'right';\n      } else if (labelPosition === 'leftBottom') {\n        // LeftBottom side\n        x1 = points[3][0];\n        y1 = points[2][1];\n        x2 = x1 - labelLineLen;\n        textX = x2 - 5;\n        textAlign = 'right';\n      } else {\n        // Right side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n        x2 = x1 + labelLineLen;\n        textX = x2 + 5;\n        textAlign = 'left';\n      }\n\n      var y2 = y1;\n      linePoints = [[x1, y1], [x2, y2]];\n      textY = y2;\n    }\n\n    layout.label = {\n      linePoints: linePoints,\n      x: textX,\n      y: textY,\n      verticalAlign: 'middle',\n      textAlign: textAlign,\n      inside: isLabelInside\n    };\n  });\n}\n\nfunction _default(ecModel, api, payload) {\n  ecModel.eachSeriesByType('funnel', function (seriesModel) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var sort = seriesModel.get('sort');\n    var viewRect = getViewRect(seriesModel, api);\n    var indices = getSortedIndices(data, sort);\n    var sizeExtent = [parsePercent(seriesModel.get('minSize'), viewRect.width), parsePercent(seriesModel.get('maxSize'), viewRect.width)];\n    var dataExtent = data.getDataExtent(valueDim);\n    var min = seriesModel.get('min');\n    var max = seriesModel.get('max');\n\n    if (min == null) {\n      min = Math.min(dataExtent[0], 0);\n    }\n\n    if (max == null) {\n      max = dataExtent[1];\n    }\n\n    var funnelAlign = seriesModel.get('funnelAlign');\n    var gap = seriesModel.get('gap');\n    var itemHeight = (viewRect.height - gap * (data.count() - 1)) / data.count();\n    var y = viewRect.y;\n\n    var getLinePoints = function (idx, offY) {\n      // End point index is data.count() and we assign it 0\n      var val = data.get(valueDim, idx) || 0;\n      var itemWidth = linearMap(val, [min, max], sizeExtent, true);\n      var x0;\n\n      switch (funnelAlign) {\n        case 'left':\n          x0 = viewRect.x;\n          break;\n\n        case 'center':\n          x0 = viewRect.x + (viewRect.width - itemWidth) / 2;\n          break;\n\n        case 'right':\n          x0 = viewRect.x + viewRect.width - itemWidth;\n          break;\n      }\n\n      return [[x0, offY], [x0 + itemWidth, offY]];\n    };\n\n    if (sort === 'ascending') {\n      // From bottom to top\n      itemHeight = -itemHeight;\n      gap = -gap;\n      y += viewRect.height;\n      indices = indices.reverse();\n    }\n\n    for (var i = 0; i < indices.length; i++) {\n      var idx = indices[i];\n      var nextIdx = indices[i + 1];\n      var itemModel = data.getItemModel(idx);\n      var height = itemModel.get('itemStyle.height');\n\n      if (height == null) {\n        height = itemHeight;\n      } else {\n        height = parsePercent(height, viewRect.height);\n\n        if (sort === 'ascending') {\n          height = -height;\n        }\n      }\n\n      var start = getLinePoints(idx, y);\n      var end = getLinePoints(nextIdx, y + height);\n      y += height + gap;\n      data.setItemLayout(idx, {\n        points: start.concat(end.slice().reverse())\n      });\n    }\n\n    labelLayout(data);\n  });\n}\n\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}