{"ast":null,"code":"var util = require(\"./core/util\");\nvar vec2 = require(\"./core/vector\");\nvar Draggable = require(\"./mixin/Draggable\");\nvar Eventful = require(\"./mixin/Eventful\");\nvar eventTool = require(\"./core/event\");\nvar GestureMgr = require(\"./core/GestureMgr\");\nvar SILENT = 'silent';\nfunction makeEventPacket(eveType, targetInfo, event) {\n  return {\n    type: eveType,\n    event: event,\n    // target can only be an element that is not silent.\n    target: targetInfo.target,\n    // topTarget can be a silent element.\n    topTarget: targetInfo.topTarget,\n    cancelBubble: false,\n    offsetX: event.zrX,\n    offsetY: event.zrY,\n    gestureEvent: event.gestureEvent,\n    pinchX: event.pinchX,\n    pinchY: event.pinchY,\n    pinchScale: event.pinchScale,\n    wheelDelta: event.zrDelta,\n    zrByTouch: event.zrByTouch,\n    which: event.which,\n    stop: stopEvent\n  };\n}\nfunction stopEvent(event) {\n  eventTool.stop(this.event);\n}\nfunction EmptyProxy() {}\nEmptyProxy.prototype.dispose = function () {};\nvar handlerNames = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu'];\n/**\n * @alias module:zrender/Handler\n * @constructor\n * @extends module:zrender/mixin/Eventful\n * @param {module:zrender/Storage} storage Storage instance.\n * @param {module:zrender/Painter} painter Painter instance.\n * @param {module:zrender/dom/HandlerProxy} proxy HandlerProxy instance.\n * @param {HTMLElement} painterRoot painter.root (not painter.getViewportRoot()).\n */\n\nvar Handler = function (storage, painter, proxy, painterRoot) {\n  Eventful.call(this);\n  this.storage = storage;\n  this.painter = painter;\n  this.painterRoot = painterRoot;\n  proxy = proxy || new EmptyProxy();\n  /**\n   * Proxy of event. can be Dom, WebGLSurface, etc.\n   */\n\n  this.proxy = null;\n  /**\n   * {target, topTarget, x, y}\n   * @private\n   * @type {Object}\n   */\n\n  this._hovered = {};\n  /**\n   * @private\n   * @type {Date}\n   */\n\n  this._lastTouchMoment;\n  /**\n   * @private\n   * @type {number}\n   */\n\n  this._lastX;\n  /**\n   * @private\n   * @type {number}\n   */\n\n  this._lastY;\n  /**\n   * @private\n   * @type {module:zrender/core/GestureMgr}\n   */\n\n  this._gestureMgr;\n  Draggable.call(this);\n  this.setHandlerProxy(proxy);\n};\nHandler.prototype = {\n  constructor: Handler,\n  setHandlerProxy: function (proxy) {\n    if (this.proxy) {\n      this.proxy.dispose();\n    }\n    if (proxy) {\n      util.each(handlerNames, function (name) {\n        proxy.on && proxy.on(name, this[name], this);\n      }, this); // Attach handler\n\n      proxy.handler = this;\n    }\n    this.proxy = proxy;\n  },\n  mousemove: function (event) {\n    var x = event.zrX;\n    var y = event.zrY;\n    var lastHovered = this._hovered;\n    var lastHoveredTarget = lastHovered.target; // If lastHoveredTarget is removed from zr (detected by '__zr') by some API call\n    // (like 'setOption' or 'dispatchAction') in event handlers, we should find\n    // lastHovered again here. Otherwise 'mouseout' can not be triggered normally.\n    // See #6198.\n\n    if (lastHoveredTarget && !lastHoveredTarget.__zr) {\n      lastHovered = this.findHover(lastHovered.x, lastHovered.y);\n      lastHoveredTarget = lastHovered.target;\n    }\n    var hovered = this._hovered = this.findHover(x, y);\n    var hoveredTarget = hovered.target;\n    var proxy = this.proxy;\n    proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default'); // Mouse out on previous hovered element\n\n    if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\n      this.dispatchToElement(lastHovered, 'mouseout', event);\n    } // Mouse moving on one element\n\n    this.dispatchToElement(hovered, 'mousemove', event); // Mouse over on a new element\n\n    if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\n      this.dispatchToElement(hovered, 'mouseover', event);\n    }\n  },\n  mouseout: function (event) {\n    this.dispatchToElement(this._hovered, 'mouseout', event); // There might be some doms created by upper layer application\n    // at the same level of painter.getViewportRoot() (e.g., tooltip\n    // dom created by echarts), where 'globalout' event should not\n    // be triggered when mouse enters these doms. (But 'mouseout'\n    // should be triggered at the original hovered element as usual).\n\n    var element = event.toElement || event.relatedTarget;\n    var innerDom;\n    do {\n      element = element && element.parentNode;\n    } while (element && element.nodeType !== 9 && !(innerDom = element === this.painterRoot));\n    !innerDom && this.trigger('globalout', {\n      event: event\n    });\n  },\n  /**\n   * Resize\n   */\n  resize: function (event) {\n    this._hovered = {};\n  },\n  /**\n   * Dispatch event\n   * @param {string} eventName\n   * @param {event=} eventArgs\n   */\n  dispatch: function (eventName, eventArgs) {\n    var handler = this[eventName];\n    handler && handler.call(this, eventArgs);\n  },\n  /**\n   * Dispose\n   */\n  dispose: function () {\n    this.proxy.dispose();\n    this.storage = this.proxy = this.painter = null;\n  },\n  /**\n   * 设置默认的cursor style\n   * @param {string} [cursorStyle='default'] 例如 crosshair\n   */\n  setCursorStyle: function (cursorStyle) {\n    var proxy = this.proxy;\n    proxy.setCursor && proxy.setCursor(cursorStyle);\n  },\n  /**\n   * 事件分发代理\n   *\n   * @private\n   * @param {Object} targetInfo {target, topTarget} 目标图形元素\n   * @param {string} eventName 事件名称\n   * @param {Object} event 事件对象\n   */\n  dispatchToElement: function (targetInfo, eventName, event) {\n    targetInfo = targetInfo || {};\n    var el = targetInfo.target;\n    if (el && el.silent) {\n      return;\n    }\n    var eventHandler = 'on' + eventName;\n    var eventPacket = makeEventPacket(eventName, targetInfo, event);\n    while (el) {\n      el[eventHandler] && (eventPacket.cancelBubble = el[eventHandler].call(el, eventPacket));\n      el.trigger(eventName, eventPacket);\n      el = el.parent;\n      if (eventPacket.cancelBubble) {\n        break;\n      }\n    }\n    if (!eventPacket.cancelBubble) {\n      // 冒泡到顶级 zrender 对象\n      this.trigger(eventName, eventPacket); // 分发事件到用户自定义层\n      // 用户有可能在全局 click 事件中 dispose，所以需要判断下 painter 是否存在\n\n      this.painter && this.painter.eachOtherLayer(function (layer) {\n        if (typeof layer[eventHandler] === 'function') {\n          layer[eventHandler].call(layer, eventPacket);\n        }\n        if (layer.trigger) {\n          layer.trigger(eventName, eventPacket);\n        }\n      });\n    }\n  },\n  /**\n   * @private\n   * @param {number} x\n   * @param {number} y\n   * @param {module:zrender/graphic/Displayable} exclude\n   * @return {model:zrender/Element}\n   * @method\n   */\n  findHover: function (x, y, exclude) {\n    var list = this.storage.getDisplayList();\n    var out = {\n      x: x,\n      y: y\n    };\n    for (var i = list.length - 1; i >= 0; i--) {\n      var hoverCheckResult;\n      if (list[i] !== exclude // getDisplayList may include ignored item in VML mode\n      && !list[i].ignore && (hoverCheckResult = isHover(list[i], x, y))) {\n        !out.topTarget && (out.topTarget = list[i]);\n        if (hoverCheckResult !== SILENT) {\n          out.target = list[i];\n          break;\n        }\n      }\n    }\n    return out;\n  },\n  processGesture: function (event, stage) {\n    if (!this._gestureMgr) {\n      this._gestureMgr = new GestureMgr();\n    }\n    var gestureMgr = this._gestureMgr;\n    stage === 'start' && gestureMgr.clear();\n    var gestureInfo = gestureMgr.recognize(event, this.findHover(event.zrX, event.zrY, null).target, this.proxy.dom);\n    stage === 'end' && gestureMgr.clear(); // Do not do any preventDefault here. Upper application do that if necessary.\n\n    if (gestureInfo) {\n      var type = gestureInfo.type;\n      event.gestureEvent = type;\n      this.dispatchToElement({\n        target: gestureInfo.target\n      }, type, gestureInfo.event);\n    }\n  }\n}; // Common handlers\n\nutil.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n  Handler.prototype[name] = function (event) {\n    // Find hover again to avoid click event is dispatched manually. Or click is triggered without mouseover\n    var hovered = this.findHover(event.zrX, event.zrY);\n    var hoveredTarget = hovered.target;\n    if (name === 'mousedown') {\n      this._downEl = hoveredTarget;\n      this._downPoint = [event.zrX, event.zrY]; // In case click triggered before mouseup\n\n      this._upEl = hoveredTarget;\n    } else if (name === 'mouseup') {\n      this._upEl = hoveredTarget;\n    } else if (name === 'click') {\n      if (this._downEl !== this._upEl // Original click event is triggered on the whole canvas element,\n      // including the case that `mousedown` - `mousemove` - `mouseup`,\n      // which should be filtered, otherwise it will bring trouble to\n      // pan and zoom.\n      || !this._downPoint // Arbitrary value\n      || vec2.dist(this._downPoint, [event.zrX, event.zrY]) > 4) {\n        return;\n      }\n      this._downPoint = null;\n    }\n    this.dispatchToElement(hovered, name, event);\n  };\n});\nfunction isHover(displayable, x, y) {\n  if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\n    var el = displayable;\n    var isSilent;\n    while (el) {\n      // If clipped by ancestor.\n      // FIXME: If clipPath has neither stroke nor fill,\n      // el.clipPath.contain(x, y) will always return false.\n      if (el.clipPath && !el.clipPath.contain(x, y)) {\n        return false;\n      }\n      if (el.silent) {\n        isSilent = true;\n      }\n      el = el.parent;\n    }\n    return isSilent ? SILENT : true;\n  }\n  return false;\n}\nutil.mixin(Handler, Eventful);\nutil.mixin(Handler, Draggable);\nvar _default = Handler;\nmodule.exports = _default;","map":{"version":3,"names":["util","require","vec2","Draggable","Eventful","eventTool","GestureMgr","SILENT","makeEventPacket","eveType","targetInfo","event","type","target","topTarget","cancelBubble","offsetX","zrX","offsetY","zrY","gestureEvent","pinchX","pinchY","pinchScale","wheelDelta","zrDelta","zrByTouch","which","stop","stopEvent","EmptyProxy","prototype","dispose","handlerNames","Handler","storage","painter","proxy","painterRoot","call","_hovered","_lastTouchMoment","_lastX","_lastY","_gestureMgr","setHandlerProxy","constructor","each","name","on","handler","mousemove","x","y","lastHovered","lastHoveredTarget","__zr","findHover","hovered","hoveredTarget","setCursor","cursor","dispatchToElement","mouseout","element","toElement","relatedTarget","innerDom","parentNode","nodeType","trigger","resize","dispatch","eventName","eventArgs","setCursorStyle","cursorStyle","el","silent","eventHandler","eventPacket","parent","eachOtherLayer","layer","exclude","list","getDisplayList","out","i","length","hoverCheckResult","ignore","isHover","processGesture","stage","gestureMgr","clear","gestureInfo","recognize","dom","_downEl","_downPoint","_upEl","dist","displayable","rectHover","isSilent","clipPath","contain","mixin","_default","module","exports"],"sources":["/Users/tangxinyu/WebstormProjects/cs209a_proj/node_modules/zrender/lib/Handler.js"],"sourcesContent":["var util = require(\"./core/util\");\n\nvar vec2 = require(\"./core/vector\");\n\nvar Draggable = require(\"./mixin/Draggable\");\n\nvar Eventful = require(\"./mixin/Eventful\");\n\nvar eventTool = require(\"./core/event\");\n\nvar GestureMgr = require(\"./core/GestureMgr\");\n\nvar SILENT = 'silent';\n\nfunction makeEventPacket(eveType, targetInfo, event) {\n  return {\n    type: eveType,\n    event: event,\n    // target can only be an element that is not silent.\n    target: targetInfo.target,\n    // topTarget can be a silent element.\n    topTarget: targetInfo.topTarget,\n    cancelBubble: false,\n    offsetX: event.zrX,\n    offsetY: event.zrY,\n    gestureEvent: event.gestureEvent,\n    pinchX: event.pinchX,\n    pinchY: event.pinchY,\n    pinchScale: event.pinchScale,\n    wheelDelta: event.zrDelta,\n    zrByTouch: event.zrByTouch,\n    which: event.which,\n    stop: stopEvent\n  };\n}\n\nfunction stopEvent(event) {\n  eventTool.stop(this.event);\n}\n\nfunction EmptyProxy() {}\n\nEmptyProxy.prototype.dispose = function () {};\n\nvar handlerNames = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu'];\n/**\n * @alias module:zrender/Handler\n * @constructor\n * @extends module:zrender/mixin/Eventful\n * @param {module:zrender/Storage} storage Storage instance.\n * @param {module:zrender/Painter} painter Painter instance.\n * @param {module:zrender/dom/HandlerProxy} proxy HandlerProxy instance.\n * @param {HTMLElement} painterRoot painter.root (not painter.getViewportRoot()).\n */\n\nvar Handler = function (storage, painter, proxy, painterRoot) {\n  Eventful.call(this);\n  this.storage = storage;\n  this.painter = painter;\n  this.painterRoot = painterRoot;\n  proxy = proxy || new EmptyProxy();\n  /**\n   * Proxy of event. can be Dom, WebGLSurface, etc.\n   */\n\n  this.proxy = null;\n  /**\n   * {target, topTarget, x, y}\n   * @private\n   * @type {Object}\n   */\n\n  this._hovered = {};\n  /**\n   * @private\n   * @type {Date}\n   */\n\n  this._lastTouchMoment;\n  /**\n   * @private\n   * @type {number}\n   */\n\n  this._lastX;\n  /**\n   * @private\n   * @type {number}\n   */\n\n  this._lastY;\n  /**\n   * @private\n   * @type {module:zrender/core/GestureMgr}\n   */\n\n  this._gestureMgr;\n  Draggable.call(this);\n  this.setHandlerProxy(proxy);\n};\n\nHandler.prototype = {\n  constructor: Handler,\n  setHandlerProxy: function (proxy) {\n    if (this.proxy) {\n      this.proxy.dispose();\n    }\n\n    if (proxy) {\n      util.each(handlerNames, function (name) {\n        proxy.on && proxy.on(name, this[name], this);\n      }, this); // Attach handler\n\n      proxy.handler = this;\n    }\n\n    this.proxy = proxy;\n  },\n  mousemove: function (event) {\n    var x = event.zrX;\n    var y = event.zrY;\n    var lastHovered = this._hovered;\n    var lastHoveredTarget = lastHovered.target; // If lastHoveredTarget is removed from zr (detected by '__zr') by some API call\n    // (like 'setOption' or 'dispatchAction') in event handlers, we should find\n    // lastHovered again here. Otherwise 'mouseout' can not be triggered normally.\n    // See #6198.\n\n    if (lastHoveredTarget && !lastHoveredTarget.__zr) {\n      lastHovered = this.findHover(lastHovered.x, lastHovered.y);\n      lastHoveredTarget = lastHovered.target;\n    }\n\n    var hovered = this._hovered = this.findHover(x, y);\n    var hoveredTarget = hovered.target;\n    var proxy = this.proxy;\n    proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default'); // Mouse out on previous hovered element\n\n    if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\n      this.dispatchToElement(lastHovered, 'mouseout', event);\n    } // Mouse moving on one element\n\n\n    this.dispatchToElement(hovered, 'mousemove', event); // Mouse over on a new element\n\n    if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\n      this.dispatchToElement(hovered, 'mouseover', event);\n    }\n  },\n  mouseout: function (event) {\n    this.dispatchToElement(this._hovered, 'mouseout', event); // There might be some doms created by upper layer application\n    // at the same level of painter.getViewportRoot() (e.g., tooltip\n    // dom created by echarts), where 'globalout' event should not\n    // be triggered when mouse enters these doms. (But 'mouseout'\n    // should be triggered at the original hovered element as usual).\n\n    var element = event.toElement || event.relatedTarget;\n    var innerDom;\n\n    do {\n      element = element && element.parentNode;\n    } while (element && element.nodeType !== 9 && !(innerDom = element === this.painterRoot));\n\n    !innerDom && this.trigger('globalout', {\n      event: event\n    });\n  },\n\n  /**\n   * Resize\n   */\n  resize: function (event) {\n    this._hovered = {};\n  },\n\n  /**\n   * Dispatch event\n   * @param {string} eventName\n   * @param {event=} eventArgs\n   */\n  dispatch: function (eventName, eventArgs) {\n    var handler = this[eventName];\n    handler && handler.call(this, eventArgs);\n  },\n\n  /**\n   * Dispose\n   */\n  dispose: function () {\n    this.proxy.dispose();\n    this.storage = this.proxy = this.painter = null;\n  },\n\n  /**\n   * 设置默认的cursor style\n   * @param {string} [cursorStyle='default'] 例如 crosshair\n   */\n  setCursorStyle: function (cursorStyle) {\n    var proxy = this.proxy;\n    proxy.setCursor && proxy.setCursor(cursorStyle);\n  },\n\n  /**\n   * 事件分发代理\n   *\n   * @private\n   * @param {Object} targetInfo {target, topTarget} 目标图形元素\n   * @param {string} eventName 事件名称\n   * @param {Object} event 事件对象\n   */\n  dispatchToElement: function (targetInfo, eventName, event) {\n    targetInfo = targetInfo || {};\n    var el = targetInfo.target;\n\n    if (el && el.silent) {\n      return;\n    }\n\n    var eventHandler = 'on' + eventName;\n    var eventPacket = makeEventPacket(eventName, targetInfo, event);\n\n    while (el) {\n      el[eventHandler] && (eventPacket.cancelBubble = el[eventHandler].call(el, eventPacket));\n      el.trigger(eventName, eventPacket);\n      el = el.parent;\n\n      if (eventPacket.cancelBubble) {\n        break;\n      }\n    }\n\n    if (!eventPacket.cancelBubble) {\n      // 冒泡到顶级 zrender 对象\n      this.trigger(eventName, eventPacket); // 分发事件到用户自定义层\n      // 用户有可能在全局 click 事件中 dispose，所以需要判断下 painter 是否存在\n\n      this.painter && this.painter.eachOtherLayer(function (layer) {\n        if (typeof layer[eventHandler] === 'function') {\n          layer[eventHandler].call(layer, eventPacket);\n        }\n\n        if (layer.trigger) {\n          layer.trigger(eventName, eventPacket);\n        }\n      });\n    }\n  },\n\n  /**\n   * @private\n   * @param {number} x\n   * @param {number} y\n   * @param {module:zrender/graphic/Displayable} exclude\n   * @return {model:zrender/Element}\n   * @method\n   */\n  findHover: function (x, y, exclude) {\n    var list = this.storage.getDisplayList();\n    var out = {\n      x: x,\n      y: y\n    };\n\n    for (var i = list.length - 1; i >= 0; i--) {\n      var hoverCheckResult;\n\n      if (list[i] !== exclude // getDisplayList may include ignored item in VML mode\n      && !list[i].ignore && (hoverCheckResult = isHover(list[i], x, y))) {\n        !out.topTarget && (out.topTarget = list[i]);\n\n        if (hoverCheckResult !== SILENT) {\n          out.target = list[i];\n          break;\n        }\n      }\n    }\n\n    return out;\n  },\n  processGesture: function (event, stage) {\n    if (!this._gestureMgr) {\n      this._gestureMgr = new GestureMgr();\n    }\n\n    var gestureMgr = this._gestureMgr;\n    stage === 'start' && gestureMgr.clear();\n    var gestureInfo = gestureMgr.recognize(event, this.findHover(event.zrX, event.zrY, null).target, this.proxy.dom);\n    stage === 'end' && gestureMgr.clear(); // Do not do any preventDefault here. Upper application do that if necessary.\n\n    if (gestureInfo) {\n      var type = gestureInfo.type;\n      event.gestureEvent = type;\n      this.dispatchToElement({\n        target: gestureInfo.target\n      }, type, gestureInfo.event);\n    }\n  }\n}; // Common handlers\n\nutil.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n  Handler.prototype[name] = function (event) {\n    // Find hover again to avoid click event is dispatched manually. Or click is triggered without mouseover\n    var hovered = this.findHover(event.zrX, event.zrY);\n    var hoveredTarget = hovered.target;\n\n    if (name === 'mousedown') {\n      this._downEl = hoveredTarget;\n      this._downPoint = [event.zrX, event.zrY]; // In case click triggered before mouseup\n\n      this._upEl = hoveredTarget;\n    } else if (name === 'mouseup') {\n      this._upEl = hoveredTarget;\n    } else if (name === 'click') {\n      if (this._downEl !== this._upEl // Original click event is triggered on the whole canvas element,\n      // including the case that `mousedown` - `mousemove` - `mouseup`,\n      // which should be filtered, otherwise it will bring trouble to\n      // pan and zoom.\n      || !this._downPoint // Arbitrary value\n      || vec2.dist(this._downPoint, [event.zrX, event.zrY]) > 4) {\n        return;\n      }\n\n      this._downPoint = null;\n    }\n\n    this.dispatchToElement(hovered, name, event);\n  };\n});\n\nfunction isHover(displayable, x, y) {\n  if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\n    var el = displayable;\n    var isSilent;\n\n    while (el) {\n      // If clipped by ancestor.\n      // FIXME: If clipPath has neither stroke nor fill,\n      // el.clipPath.contain(x, y) will always return false.\n      if (el.clipPath && !el.clipPath.contain(x, y)) {\n        return false;\n      }\n\n      if (el.silent) {\n        isSilent = true;\n      }\n\n      el = el.parent;\n    }\n\n    return isSilent ? SILENT : true;\n  }\n\n  return false;\n}\n\nutil.mixin(Handler, Eventful);\nutil.mixin(Handler, Draggable);\nvar _default = Handler;\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}