{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\nvar __DEV__ = _config.__DEV__;\nvar _util = require(\"zrender/lib/core/util\");\nvar each = _util.each;\nvar createHashMap = _util.createHashMap;\nvar mapDataStorage = require(\"./mapDataStorage\");\nvar geoJSONLoader = require(\"./geoJSONLoader\");\nvar geoSVGLoader = require(\"./geoSVGLoader\");\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar loaders = {\n  geoJSON: geoJSONLoader,\n  svg: geoSVGLoader\n};\nvar _default = {\n  /**\n   * @param {string} mapName\n   * @param {Object} nameMap\n   * @return {Object} source {regions, regionsMap, nameCoordMap, boundingRect}\n   */\n  load: function (mapName, nameMap) {\n    var regions = [];\n    var regionsMap = createHashMap();\n    var nameCoordMap = createHashMap();\n    var boundingRect;\n    var mapRecords = retrieveMap(mapName);\n    each(mapRecords, function (record) {\n      var singleSource = loaders[record.type].load(mapName, record);\n      each(singleSource.regions, function (region) {\n        var regionName = region.name; // Try use the alias in geoNameMap\n\n        if (nameMap && nameMap.hasOwnProperty(regionName)) {\n          region = region.cloneShallow(regionName = nameMap[regionName]);\n        }\n        regions.push(region);\n        regionsMap.set(regionName, region);\n        nameCoordMap.set(regionName, region.center);\n      });\n      var rect = singleSource.boundingRect;\n      if (rect) {\n        boundingRect ? boundingRect.union(rect) : boundingRect = rect.clone();\n      }\n    });\n    return {\n      regions: regions,\n      regionsMap: regionsMap,\n      nameCoordMap: nameCoordMap,\n      // FIXME Always return new ?\n      boundingRect: boundingRect || new BoundingRect(0, 0, 0, 0)\n    };\n  },\n  /**\n   * @param {string} mapName\n   * @param {string} hostKey For cache.\n   * @return {Array.<module:zrender/Element>} Roots.\n   */\n  makeGraphic: makeInvoker('makeGraphic'),\n  /**\n   * @param {string} mapName\n   * @param {string} hostKey For cache.\n   */\n  removeGraphic: makeInvoker('removeGraphic')\n};\nfunction makeInvoker(methodName) {\n  return function (mapName, hostKey) {\n    var mapRecords = retrieveMap(mapName);\n    var results = [];\n    each(mapRecords, function (record) {\n      var method = loaders[record.type][methodName];\n      method && results.push(method(mapName, record, hostKey));\n    });\n    return results;\n  };\n}\nfunction mapNotExistsError(mapName) {}\nfunction retrieveMap(mapName) {\n  var mapRecords = mapDataStorage.retrieveMap(mapName) || [];\n  return mapRecords;\n}\nmodule.exports = _default;","map":{"version":3,"names":["_config","require","__DEV__","_util","each","createHashMap","mapDataStorage","geoJSONLoader","geoSVGLoader","BoundingRect","loaders","geoJSON","svg","_default","load","mapName","nameMap","regions","regionsMap","nameCoordMap","boundingRect","mapRecords","retrieveMap","record","singleSource","type","region","regionName","name","hasOwnProperty","cloneShallow","push","set","center","rect","union","clone","makeGraphic","makeInvoker","removeGraphic","methodName","hostKey","results","method","mapNotExistsError","module","exports"],"sources":["/Users/tangxinyu/WebstormProjects/cs209a_proj/node_modules/echarts/lib/coord/geo/geoSourceManager.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar each = _util.each;\nvar createHashMap = _util.createHashMap;\n\nvar mapDataStorage = require(\"./mapDataStorage\");\n\nvar geoJSONLoader = require(\"./geoJSONLoader\");\n\nvar geoSVGLoader = require(\"./geoSVGLoader\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar loaders = {\n  geoJSON: geoJSONLoader,\n  svg: geoSVGLoader\n};\nvar _default = {\n  /**\n   * @param {string} mapName\n   * @param {Object} nameMap\n   * @return {Object} source {regions, regionsMap, nameCoordMap, boundingRect}\n   */\n  load: function (mapName, nameMap) {\n    var regions = [];\n    var regionsMap = createHashMap();\n    var nameCoordMap = createHashMap();\n    var boundingRect;\n    var mapRecords = retrieveMap(mapName);\n    each(mapRecords, function (record) {\n      var singleSource = loaders[record.type].load(mapName, record);\n      each(singleSource.regions, function (region) {\n        var regionName = region.name; // Try use the alias in geoNameMap\n\n        if (nameMap && nameMap.hasOwnProperty(regionName)) {\n          region = region.cloneShallow(regionName = nameMap[regionName]);\n        }\n\n        regions.push(region);\n        regionsMap.set(regionName, region);\n        nameCoordMap.set(regionName, region.center);\n      });\n      var rect = singleSource.boundingRect;\n\n      if (rect) {\n        boundingRect ? boundingRect.union(rect) : boundingRect = rect.clone();\n      }\n    });\n    return {\n      regions: regions,\n      regionsMap: regionsMap,\n      nameCoordMap: nameCoordMap,\n      // FIXME Always return new ?\n      boundingRect: boundingRect || new BoundingRect(0, 0, 0, 0)\n    };\n  },\n\n  /**\n   * @param {string} mapName\n   * @param {string} hostKey For cache.\n   * @return {Array.<module:zrender/Element>} Roots.\n   */\n  makeGraphic: makeInvoker('makeGraphic'),\n\n  /**\n   * @param {string} mapName\n   * @param {string} hostKey For cache.\n   */\n  removeGraphic: makeInvoker('removeGraphic')\n};\n\nfunction makeInvoker(methodName) {\n  return function (mapName, hostKey) {\n    var mapRecords = retrieveMap(mapName);\n    var results = [];\n    each(mapRecords, function (record) {\n      var method = loaders[record.type][methodName];\n      method && results.push(method(mapName, record, hostKey));\n    });\n    return results;\n  };\n}\n\nfunction mapNotExistsError(mapName) {}\n\nfunction retrieveMap(mapName) {\n  var mapRecords = mapDataStorage.retrieveMap(mapName) || [];\n  return mapRecords;\n}\n\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}