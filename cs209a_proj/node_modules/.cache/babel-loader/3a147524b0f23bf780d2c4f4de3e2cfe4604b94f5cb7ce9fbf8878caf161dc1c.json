{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");\nvar Eventful = require(\"../mixin/Eventful\");\nexports.Dispatcher = Eventful;\nvar env = require(\"./env\");\nvar _fourPointsTransform = require(\"./fourPointsTransform\");\nvar buildTransformer = _fourPointsTransform.buildTransformer;\n\n/**\n * Utilities for mouse or touch events.\n */\nvar isDomLevel2 = typeof window !== 'undefined' && !!window.addEventListener;\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar EVENT_SAVED_PROP = '___zrEVENTSAVED';\nvar _calcOut = [];\n/**\n * Get the `zrX` and `zrY`, which are relative to the top-left of\n * the input `el`.\n * CSS transform (2D & 3D) is supported.\n *\n * The strategy to fetch the coords:\n * + If `calculate` is not set as `true`, users of this method should\n * ensure that `el` is the same or the same size & location as `e.target`.\n * Otherwise the result coords are probably not expected. Because we\n * firstly try to get coords from e.offsetX/e.offsetY.\n * + If `calculate` is set as `true`, the input `el` can be any element\n * and we force to calculate the coords based on `el`.\n * + The input `el` should be positionable (not position:static).\n *\n * The force `calculate` can be used in case like:\n * When mousemove event triggered on ec tooltip, `e.target` is not `el`(zr painter.dom).\n *\n * @param {HTMLElement} el DOM element.\n * @param {Event} e Mouse event or touch event.\n * @param {Object} out Get `out.zrX` and `out.zrY` as the result.\n * @param {boolean} [calculate=false] Whether to force calculate\n *        the coordinates but not use ones provided by browser.\n */\n\nfunction clientToLocal(el, e, out, calculate) {\n  out = out || {}; // According to the W3C Working Draft, offsetX and offsetY should be relative\n  // to the padding edge of the target element. The only browser using this convention\n  // is IE. Webkit uses the border edge, Opera uses the content edge, and FireFox does\n  // not support the properties.\n  // (see http://www.jacklmoore.com/notes/mouse-position/)\n  // In zr painter.dom, padding edge equals to border edge.\n\n  if (calculate || !env.canvasSupported) {\n    calculateZrXY(el, e, out);\n  } // Caution: In FireFox, layerX/layerY Mouse position relative to the closest positioned\n  // ancestor element, so we should make sure el is positioned (e.g., not position:static).\n  // BTW1, Webkit don't return the same results as FF in non-simple cases (like add\n  // zoom-factor, overflow / opacity layers, transforms ...)\n  // BTW2, (ev.offsetY || ev.pageY - $(ev.target).offset().top) is not correct in preserve-3d.\n  // <https://bugs.jquery.com/ticket/8523#comment:14>\n  // BTW3, In ff, offsetX/offsetY is always 0.\n  else if (env.browser.firefox && e.layerX != null && e.layerX !== e.offsetX) {\n    out.zrX = e.layerX;\n    out.zrY = e.layerY;\n  } // For IE6+, chrome, safari, opera. (When will ff support offsetX?)\n  else if (e.offsetX != null) {\n    out.zrX = e.offsetX;\n    out.zrY = e.offsetY;\n  } // For some other device, e.g., IOS safari.\n  else {\n    calculateZrXY(el, e, out);\n  }\n  return out;\n}\nfunction calculateZrXY(el, e, out) {\n  // BlackBerry 5, iOS 3 (original iPhone) don't have getBoundingRect.\n  if (el.getBoundingClientRect && env.domSupported) {\n    var ex = e.clientX;\n    var ey = e.clientY;\n    if (el.nodeName.toUpperCase() === 'CANVAS') {\n      // Original approach, which do not support CSS transform.\n      // marker can not be locationed in a canvas container\n      // (getBoundingClientRect is always 0). We do not support\n      // that input a pre-created canvas to zr while using css\n      // transform in iOS.\n      var box = el.getBoundingClientRect();\n      out.zrX = ex - box.left;\n      out.zrY = ey - box.top;\n      return;\n    } else {\n      var saved = el[EVENT_SAVED_PROP] || (el[EVENT_SAVED_PROP] = {});\n      var transformer = preparePointerTransformer(prepareCoordMarkers(el, saved), saved);\n      if (transformer) {\n        transformer(_calcOut, ex, ey);\n        out.zrX = _calcOut[0];\n        out.zrY = _calcOut[1];\n        return;\n      }\n    }\n  }\n  out.zrX = out.zrY = 0;\n}\nfunction prepareCoordMarkers(el, saved) {\n  var markers = saved.markers;\n  if (markers) {\n    return markers;\n  }\n  markers = saved.markers = [];\n  var propLR = ['left', 'right'];\n  var propTB = ['top', 'bottom'];\n  for (var i = 0; i < 4; i++) {\n    var marker = document.createElement('div');\n    var stl = marker.style;\n    var idxLR = i % 2;\n    var idxTB = (i >> 1) % 2;\n    stl.cssText = ['position:absolute', 'visibility: hidden', 'padding: 0', 'margin: 0', 'border-width: 0', 'width:0', 'height:0',\n    // 'width: 5px',\n    // 'height: 5px',\n    propLR[idxLR] + ':0', propTB[idxTB] + ':0', propLR[1 - idxLR] + ':auto', propTB[1 - idxTB] + ':auto', ''].join('!important;');\n    el.appendChild(marker);\n    markers.push(marker);\n  }\n  return markers;\n}\nfunction preparePointerTransformer(markers, saved) {\n  var transformer = saved.transformer;\n  var oldSrcCoords = saved.srcCoords;\n  var useOld = true;\n  var srcCoords = [];\n  var destCoords = [];\n  for (var i = 0; i < 4; i++) {\n    var rect = markers[i].getBoundingClientRect();\n    var ii = 2 * i;\n    var x = rect.left;\n    var y = rect.top;\n    srcCoords.push(x, y);\n    useOld &= oldSrcCoords && x === oldSrcCoords[ii] && y === oldSrcCoords[ii + 1];\n    destCoords.push(markers[i].offsetLeft, markers[i].offsetTop);\n  } // Cache to avoid time consuming of `buildTransformer`.\n\n  return useOld ? transformer : (saved.srcCoords = srcCoords, saved.transformer = buildTransformer(srcCoords, destCoords));\n}\n/**\n * Normalize the coordinates of the input event.\n *\n * Get the `e.zrX` and `e.zrY`, which are relative to the top-left of\n * the input `el`.\n * Get `e.zrDelta` if using mouse wheel.\n * Get `e.which`, see the comment inside this function.\n *\n * Do not calculate repeatly if `zrX` and `zrY` already exist.\n *\n * Notice: see comments in `clientToLocal`. check the relationship\n * between the result coords and the parameters `el` and `calculate`.\n *\n * @param {HTMLElement} el DOM element.\n * @param {Event} [e] Mouse event or touch event. For lagency IE,\n *        do not need to input it and `window.event` is used.\n * @param {boolean} [calculate=false] Whether to force calculate\n *        the coordinates but not use ones provided by browser.\n */\n\nfunction normalizeEvent(el, e, calculate) {\n  e = e || window.event;\n  if (e.zrX != null) {\n    return e;\n  }\n  var eventType = e.type;\n  var isTouch = eventType && eventType.indexOf('touch') >= 0;\n  if (!isTouch) {\n    clientToLocal(el, e, e, calculate);\n    e.zrDelta = e.wheelDelta ? e.wheelDelta / 120 : -(e.detail || 0) / 3;\n  } else {\n    var touch = eventType !== 'touchend' ? e.targetTouches[0] : e.changedTouches[0];\n    touch && clientToLocal(el, touch, e, calculate);\n  } // Add which for click: 1 === left; 2 === middle; 3 === right; otherwise: 0;\n  // See jQuery: https://github.com/jquery/jquery/blob/master/src/event.js\n  // If e.which has been defined, it may be readonly,\n  // see: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/which\n\n  var button = e.button;\n  if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n    e.which = button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0;\n  } // [Caution]: `e.which` from browser is not always reliable. For example,\n  // when press left button and `mousemove (pointermove)` in Edge, the `e.which`\n  // is 65536 and the `e.button` is -1. But the `mouseup (pointerup)` and\n  // `mousedown (pointerdown)` is the same as Chrome does.\n\n  return e;\n}\n/**\n * @param {HTMLElement} el\n * @param {string} name\n * @param {Function} handler\n */\n\nfunction addEventListener(el, name, handler) {\n  if (isDomLevel2) {\n    // Reproduct the console warning:\n    // [Violation] Added non-passive event listener to a scroll-blocking <some> event.\n    // Consider marking event handler as 'passive' to make the page more responsive.\n    // Just set console log level: verbose in chrome dev tool.\n    // then the warning log will be printed when addEventListener called.\n    // See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n    // We have not yet found a neat way to using passive. Because in zrender the dom event\n    // listener delegate all of the upper events of element. Some of those events need\n    // to prevent default. For example, the feature `preventDefaultMouseMove` of echarts.\n    // Before passive can be adopted, these issues should be considered:\n    // (1) Whether and how a zrender user specifies an event listener passive. And by default,\n    // passive or not.\n    // (2) How to tread that some zrender event listener is passive, and some is not. If\n    // we use other way but not preventDefault of mousewheel and touchmove, browser\n    // compatibility should be handled.\n    // var opts = (env.passiveSupported && name === 'mousewheel')\n    //     ? {passive: true}\n    //     // By default, the third param of el.addEventListener is `capture: false`.\n    //     : void 0;\n    // el.addEventListener(name, handler /* , opts */);\n    el.addEventListener(name, handler);\n  } else {\n    el.attachEvent('on' + name, handler);\n  }\n}\nfunction removeEventListener(el, name, handler) {\n  if (isDomLevel2) {\n    el.removeEventListener(name, handler);\n  } else {\n    el.detachEvent('on' + name, handler);\n  }\n}\n/**\n * preventDefault and stopPropagation.\n * Notice: do not use this method in zrender. It can only be\n * used by upper applications if necessary.\n *\n * @param {Event} e A mouse or touch event.\n */\n\nvar stop = isDomLevel2 ? function (e) {\n  e.preventDefault();\n  e.stopPropagation();\n  e.cancelBubble = true;\n} : function (e) {\n  e.returnValue = false;\n  e.cancelBubble = true;\n};\n/**\n * This method only works for mouseup and mousedown. The functionality is restricted\n * for fault tolerance, See the `e.which` compatibility above.\n *\n * @param {MouseEvent} e\n * @return {boolean}\n */\n\nfunction isMiddleOrRightButtonOnMouseUpDown(e) {\n  return e.which === 2 || e.which === 3;\n}\n/**\n * To be removed.\n * @deprecated\n */\n\nfunction notLeftMouse(e) {\n  // If e.which is undefined, considered as left mouse event.\n  return e.which > 1;\n} // For backward compatibility\n\nexports.clientToLocal = clientToLocal;\nexports.normalizeEvent = normalizeEvent;\nexports.addEventListener = addEventListener;\nexports.removeEventListener = removeEventListener;\nexports.stop = stop;\nexports.isMiddleOrRightButtonOnMouseUpDown = isMiddleOrRightButtonOnMouseUpDown;\nexports.notLeftMouse = notLeftMouse;","map":{"version":3,"names":["Eventful","require","exports","Dispatcher","env","_fourPointsTransform","buildTransformer","isDomLevel2","window","addEventListener","MOUSE_EVENT_REG","EVENT_SAVED_PROP","_calcOut","clientToLocal","el","e","out","calculate","canvasSupported","calculateZrXY","browser","firefox","layerX","offsetX","zrX","zrY","layerY","offsetY","getBoundingClientRect","domSupported","ex","clientX","ey","clientY","nodeName","toUpperCase","box","left","top","saved","transformer","preparePointerTransformer","prepareCoordMarkers","markers","propLR","propTB","i","marker","document","createElement","stl","style","idxLR","idxTB","cssText","join","appendChild","push","oldSrcCoords","srcCoords","useOld","destCoords","rect","ii","x","y","offsetLeft","offsetTop","normalizeEvent","event","eventType","type","isTouch","indexOf","zrDelta","wheelDelta","detail","touch","targetTouches","changedTouches","button","which","undefined","test","name","handler","attachEvent","removeEventListener","detachEvent","stop","preventDefault","stopPropagation","cancelBubble","returnValue","isMiddleOrRightButtonOnMouseUpDown","notLeftMouse"],"sources":["/Users/tangxinyu/WebstormProjects/cs209a_proj/node_modules/zrender/lib/core/event.js"],"sourcesContent":["var Eventful = require(\"../mixin/Eventful\");\n\nexports.Dispatcher = Eventful;\n\nvar env = require(\"./env\");\n\nvar _fourPointsTransform = require(\"./fourPointsTransform\");\n\nvar buildTransformer = _fourPointsTransform.buildTransformer;\n\n/**\n * Utilities for mouse or touch events.\n */\nvar isDomLevel2 = typeof window !== 'undefined' && !!window.addEventListener;\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar EVENT_SAVED_PROP = '___zrEVENTSAVED';\nvar _calcOut = [];\n/**\n * Get the `zrX` and `zrY`, which are relative to the top-left of\n * the input `el`.\n * CSS transform (2D & 3D) is supported.\n *\n * The strategy to fetch the coords:\n * + If `calculate` is not set as `true`, users of this method should\n * ensure that `el` is the same or the same size & location as `e.target`.\n * Otherwise the result coords are probably not expected. Because we\n * firstly try to get coords from e.offsetX/e.offsetY.\n * + If `calculate` is set as `true`, the input `el` can be any element\n * and we force to calculate the coords based on `el`.\n * + The input `el` should be positionable (not position:static).\n *\n * The force `calculate` can be used in case like:\n * When mousemove event triggered on ec tooltip, `e.target` is not `el`(zr painter.dom).\n *\n * @param {HTMLElement} el DOM element.\n * @param {Event} e Mouse event or touch event.\n * @param {Object} out Get `out.zrX` and `out.zrY` as the result.\n * @param {boolean} [calculate=false] Whether to force calculate\n *        the coordinates but not use ones provided by browser.\n */\n\nfunction clientToLocal(el, e, out, calculate) {\n  out = out || {}; // According to the W3C Working Draft, offsetX and offsetY should be relative\n  // to the padding edge of the target element. The only browser using this convention\n  // is IE. Webkit uses the border edge, Opera uses the content edge, and FireFox does\n  // not support the properties.\n  // (see http://www.jacklmoore.com/notes/mouse-position/)\n  // In zr painter.dom, padding edge equals to border edge.\n\n  if (calculate || !env.canvasSupported) {\n    calculateZrXY(el, e, out);\n  } // Caution: In FireFox, layerX/layerY Mouse position relative to the closest positioned\n  // ancestor element, so we should make sure el is positioned (e.g., not position:static).\n  // BTW1, Webkit don't return the same results as FF in non-simple cases (like add\n  // zoom-factor, overflow / opacity layers, transforms ...)\n  // BTW2, (ev.offsetY || ev.pageY - $(ev.target).offset().top) is not correct in preserve-3d.\n  // <https://bugs.jquery.com/ticket/8523#comment:14>\n  // BTW3, In ff, offsetX/offsetY is always 0.\n  else if (env.browser.firefox && e.layerX != null && e.layerX !== e.offsetX) {\n      out.zrX = e.layerX;\n      out.zrY = e.layerY;\n    } // For IE6+, chrome, safari, opera. (When will ff support offsetX?)\n    else if (e.offsetX != null) {\n        out.zrX = e.offsetX;\n        out.zrY = e.offsetY;\n      } // For some other device, e.g., IOS safari.\n      else {\n          calculateZrXY(el, e, out);\n        }\n\n  return out;\n}\n\nfunction calculateZrXY(el, e, out) {\n  // BlackBerry 5, iOS 3 (original iPhone) don't have getBoundingRect.\n  if (el.getBoundingClientRect && env.domSupported) {\n    var ex = e.clientX;\n    var ey = e.clientY;\n\n    if (el.nodeName.toUpperCase() === 'CANVAS') {\n      // Original approach, which do not support CSS transform.\n      // marker can not be locationed in a canvas container\n      // (getBoundingClientRect is always 0). We do not support\n      // that input a pre-created canvas to zr while using css\n      // transform in iOS.\n      var box = el.getBoundingClientRect();\n      out.zrX = ex - box.left;\n      out.zrY = ey - box.top;\n      return;\n    } else {\n      var saved = el[EVENT_SAVED_PROP] || (el[EVENT_SAVED_PROP] = {});\n      var transformer = preparePointerTransformer(prepareCoordMarkers(el, saved), saved);\n\n      if (transformer) {\n        transformer(_calcOut, ex, ey);\n        out.zrX = _calcOut[0];\n        out.zrY = _calcOut[1];\n        return;\n      }\n    }\n  }\n\n  out.zrX = out.zrY = 0;\n}\n\nfunction prepareCoordMarkers(el, saved) {\n  var markers = saved.markers;\n\n  if (markers) {\n    return markers;\n  }\n\n  markers = saved.markers = [];\n  var propLR = ['left', 'right'];\n  var propTB = ['top', 'bottom'];\n\n  for (var i = 0; i < 4; i++) {\n    var marker = document.createElement('div');\n    var stl = marker.style;\n    var idxLR = i % 2;\n    var idxTB = (i >> 1) % 2;\n    stl.cssText = ['position:absolute', 'visibility: hidden', 'padding: 0', 'margin: 0', 'border-width: 0', 'width:0', 'height:0', // 'width: 5px',\n    // 'height: 5px',\n    propLR[idxLR] + ':0', propTB[idxTB] + ':0', propLR[1 - idxLR] + ':auto', propTB[1 - idxTB] + ':auto', ''].join('!important;');\n    el.appendChild(marker);\n    markers.push(marker);\n  }\n\n  return markers;\n}\n\nfunction preparePointerTransformer(markers, saved) {\n  var transformer = saved.transformer;\n  var oldSrcCoords = saved.srcCoords;\n  var useOld = true;\n  var srcCoords = [];\n  var destCoords = [];\n\n  for (var i = 0; i < 4; i++) {\n    var rect = markers[i].getBoundingClientRect();\n    var ii = 2 * i;\n    var x = rect.left;\n    var y = rect.top;\n    srcCoords.push(x, y);\n    useOld &= oldSrcCoords && x === oldSrcCoords[ii] && y === oldSrcCoords[ii + 1];\n    destCoords.push(markers[i].offsetLeft, markers[i].offsetTop);\n  } // Cache to avoid time consuming of `buildTransformer`.\n\n\n  return useOld ? transformer : (saved.srcCoords = srcCoords, saved.transformer = buildTransformer(srcCoords, destCoords));\n}\n/**\n * Normalize the coordinates of the input event.\n *\n * Get the `e.zrX` and `e.zrY`, which are relative to the top-left of\n * the input `el`.\n * Get `e.zrDelta` if using mouse wheel.\n * Get `e.which`, see the comment inside this function.\n *\n * Do not calculate repeatly if `zrX` and `zrY` already exist.\n *\n * Notice: see comments in `clientToLocal`. check the relationship\n * between the result coords and the parameters `el` and `calculate`.\n *\n * @param {HTMLElement} el DOM element.\n * @param {Event} [e] Mouse event or touch event. For lagency IE,\n *        do not need to input it and `window.event` is used.\n * @param {boolean} [calculate=false] Whether to force calculate\n *        the coordinates but not use ones provided by browser.\n */\n\n\nfunction normalizeEvent(el, e, calculate) {\n  e = e || window.event;\n\n  if (e.zrX != null) {\n    return e;\n  }\n\n  var eventType = e.type;\n  var isTouch = eventType && eventType.indexOf('touch') >= 0;\n\n  if (!isTouch) {\n    clientToLocal(el, e, e, calculate);\n    e.zrDelta = e.wheelDelta ? e.wheelDelta / 120 : -(e.detail || 0) / 3;\n  } else {\n    var touch = eventType !== 'touchend' ? e.targetTouches[0] : e.changedTouches[0];\n    touch && clientToLocal(el, touch, e, calculate);\n  } // Add which for click: 1 === left; 2 === middle; 3 === right; otherwise: 0;\n  // See jQuery: https://github.com/jquery/jquery/blob/master/src/event.js\n  // If e.which has been defined, it may be readonly,\n  // see: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/which\n\n\n  var button = e.button;\n\n  if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n    e.which = button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0;\n  } // [Caution]: `e.which` from browser is not always reliable. For example,\n  // when press left button and `mousemove (pointermove)` in Edge, the `e.which`\n  // is 65536 and the `e.button` is -1. But the `mouseup (pointerup)` and\n  // `mousedown (pointerdown)` is the same as Chrome does.\n\n\n  return e;\n}\n/**\n * @param {HTMLElement} el\n * @param {string} name\n * @param {Function} handler\n */\n\n\nfunction addEventListener(el, name, handler) {\n  if (isDomLevel2) {\n    // Reproduct the console warning:\n    // [Violation] Added non-passive event listener to a scroll-blocking <some> event.\n    // Consider marking event handler as 'passive' to make the page more responsive.\n    // Just set console log level: verbose in chrome dev tool.\n    // then the warning log will be printed when addEventListener called.\n    // See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n    // We have not yet found a neat way to using passive. Because in zrender the dom event\n    // listener delegate all of the upper events of element. Some of those events need\n    // to prevent default. For example, the feature `preventDefaultMouseMove` of echarts.\n    // Before passive can be adopted, these issues should be considered:\n    // (1) Whether and how a zrender user specifies an event listener passive. And by default,\n    // passive or not.\n    // (2) How to tread that some zrender event listener is passive, and some is not. If\n    // we use other way but not preventDefault of mousewheel and touchmove, browser\n    // compatibility should be handled.\n    // var opts = (env.passiveSupported && name === 'mousewheel')\n    //     ? {passive: true}\n    //     // By default, the third param of el.addEventListener is `capture: false`.\n    //     : void 0;\n    // el.addEventListener(name, handler /* , opts */);\n    el.addEventListener(name, handler);\n  } else {\n    el.attachEvent('on' + name, handler);\n  }\n}\n\nfunction removeEventListener(el, name, handler) {\n  if (isDomLevel2) {\n    el.removeEventListener(name, handler);\n  } else {\n    el.detachEvent('on' + name, handler);\n  }\n}\n/**\n * preventDefault and stopPropagation.\n * Notice: do not use this method in zrender. It can only be\n * used by upper applications if necessary.\n *\n * @param {Event} e A mouse or touch event.\n */\n\n\nvar stop = isDomLevel2 ? function (e) {\n  e.preventDefault();\n  e.stopPropagation();\n  e.cancelBubble = true;\n} : function (e) {\n  e.returnValue = false;\n  e.cancelBubble = true;\n};\n/**\n * This method only works for mouseup and mousedown. The functionality is restricted\n * for fault tolerance, See the `e.which` compatibility above.\n *\n * @param {MouseEvent} e\n * @return {boolean}\n */\n\nfunction isMiddleOrRightButtonOnMouseUpDown(e) {\n  return e.which === 2 || e.which === 3;\n}\n/**\n * To be removed.\n * @deprecated\n */\n\n\nfunction notLeftMouse(e) {\n  // If e.which is undefined, considered as left mouse event.\n  return e.which > 1;\n} // For backward compatibility\n\n\nexports.clientToLocal = clientToLocal;\nexports.normalizeEvent = normalizeEvent;\nexports.addEventListener = addEventListener;\nexports.removeEventListener = removeEventListener;\nexports.stop = stop;\nexports.isMiddleOrRightButtonOnMouseUpDown = isMiddleOrRightButtonOnMouseUpDown;\nexports.notLeftMouse = notLeftMouse;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}