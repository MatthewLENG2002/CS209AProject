{"ast":null,"code":"var echarts = require('echarts/lib/echarts');\nvar layoutUtil = require('echarts/lib/util/layout');\nrequire('./WordCloudSeries');\nrequire('./WordCloudView');\nvar wordCloudLayoutHelper = require('./layout');\nif (!wordCloudLayoutHelper.isSupported) {\n  throw new Error('Sorry your browser not support wordCloud');\n}\n\n// https://github.com/timdream/wordcloud2.js/blob/c236bee60436e048949f9becc4f0f67bd832dc5c/index.js#L233\nfunction updateCanvasMask(maskCanvas) {\n  var ctx = maskCanvas.getContext('2d');\n  var imageData = ctx.getImageData(0, 0, maskCanvas.width, maskCanvas.height);\n  var newImageData = ctx.createImageData(imageData);\n  var toneSum = 0;\n  var toneCnt = 0;\n  for (var i = 0; i < imageData.data.length; i += 4) {\n    var alpha = imageData.data[i + 3];\n    if (alpha > 128) {\n      var tone = imageData.data[i] + imageData.data[i + 1] + imageData.data[i + 2];\n      toneSum += tone;\n      ++toneCnt;\n    }\n  }\n  var threshold = toneSum / toneCnt;\n  for (var i = 0; i < imageData.data.length; i += 4) {\n    var tone = imageData.data[i] + imageData.data[i + 1] + imageData.data[i + 2];\n    var alpha = imageData.data[i + 3];\n    if (alpha < 128 || tone > threshold) {\n      // Area not to draw\n      newImageData.data[i] = 0;\n      newImageData.data[i + 1] = 0;\n      newImageData.data[i + 2] = 0;\n      newImageData.data[i + 3] = 0;\n    } else {\n      // Area to draw\n      // The color must be same with backgroundColor\n      newImageData.data[i] = 255;\n      newImageData.data[i + 1] = 255;\n      newImageData.data[i + 2] = 255;\n      newImageData.data[i + 3] = 255;\n    }\n  }\n  ctx.putImageData(newImageData, 0, 0);\n}\necharts.registerLayout(function (ecModel, api) {\n  ecModel.eachSeriesByType('wordCloud', function (seriesModel) {\n    var gridRect = layoutUtil.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    var data = seriesModel.getData();\n    var canvas = document.createElement('canvas');\n    canvas.width = gridRect.width;\n    canvas.height = gridRect.height;\n    var ctx = canvas.getContext('2d');\n    var maskImage = seriesModel.get('maskImage');\n    if (maskImage) {\n      try {\n        ctx.drawImage(maskImage, 0, 0, canvas.width, canvas.height);\n        updateCanvasMask(canvas);\n      } catch (e) {\n        console.error('Invalid mask image');\n        console.error(e.toString());\n      }\n    }\n    var sizeRange = seriesModel.get('sizeRange');\n    var rotationRange = seriesModel.get('rotationRange');\n    var valueExtent = data.getDataExtent('value');\n    var DEGREE_TO_RAD = Math.PI / 180;\n    var gridSize = seriesModel.get('gridSize');\n    wordCloudLayoutHelper(canvas, {\n      list: data.mapArray('value', function (value, idx) {\n        var itemModel = data.getItemModel(idx);\n        return [data.getName(idx), itemModel.get('textStyle.normal.textSize', true) || echarts.number.linearMap(value, valueExtent, sizeRange), idx];\n      }).sort(function (a, b) {\n        // Sort from large to small in case there is no more room for more words\n        return b[1] - a[1];\n      }),\n      fontFamily: seriesModel.get('textStyle.normal.fontFamily') || seriesModel.get('textStyle.emphasis.fontFamily') || ecModel.get('textStyle.fontFamily'),\n      fontWeight: seriesModel.get('textStyle.normal.fontWeight') || seriesModel.get('textStyle.emphasis.fontWeight') || ecModel.get('textStyle.fontWeight'),\n      gridSize: gridSize,\n      ellipticity: gridRect.height / gridRect.width,\n      minRotation: rotationRange[0] * DEGREE_TO_RAD,\n      maxRotation: rotationRange[1] * DEGREE_TO_RAD,\n      clearCanvas: !maskImage,\n      rotateRatio: 1,\n      rotationStep: seriesModel.get('rotationStep') * DEGREE_TO_RAD,\n      drawOutOfBound: seriesModel.get('drawOutOfBound'),\n      shuffle: false,\n      shape: seriesModel.get('shape')\n    });\n    function onWordCloudDrawn(e) {\n      var item = e.detail.item;\n      if (e.detail.drawn && seriesModel.layoutInstance.ondraw) {\n        e.detail.drawn.gx += gridRect.x / gridSize;\n        e.detail.drawn.gy += gridRect.y / gridSize;\n        seriesModel.layoutInstance.ondraw(item[0], item[1], item[2], e.detail.drawn);\n      }\n    }\n    canvas.addEventListener('wordclouddrawn', onWordCloudDrawn);\n    if (seriesModel.layoutInstance) {\n      // Dispose previous\n      seriesModel.layoutInstance.dispose();\n    }\n    seriesModel.layoutInstance = {\n      ondraw: null,\n      dispose: function () {\n        canvas.removeEventListener('wordclouddrawn', onWordCloudDrawn);\n        // Abort\n        canvas.addEventListener('wordclouddrawn', function (e) {\n          // Prevent default to cancle the event and stop the loop\n          e.preventDefault();\n        });\n      }\n    };\n  });\n});\necharts.registerPreprocessor(function (option) {\n  var series = (option || {}).series;\n  !echarts.util.isArray(series) && (series = series ? [series] : []);\n  var compats = ['shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n  echarts.util.each(series, function (seriesItem) {\n    if (seriesItem && seriesItem.type === 'wordCloud') {\n      var textStyle = seriesItem.textStyle || {};\n      compatTextStyle(textStyle.normal);\n      compatTextStyle(textStyle.emphasis);\n    }\n  });\n  function compatTextStyle(textStyle) {\n    textStyle && echarts.util.each(compats, function (key) {\n      if (textStyle.hasOwnProperty(key)) {\n        textStyle['text' + echarts.format.capitalFirst(key)] = textStyle[key];\n      }\n    });\n  }\n});","map":{"version":3,"names":["echarts","require","layoutUtil","wordCloudLayoutHelper","isSupported","Error","updateCanvasMask","maskCanvas","ctx","getContext","imageData","getImageData","width","height","newImageData","createImageData","toneSum","toneCnt","i","data","length","alpha","tone","threshold","putImageData","registerLayout","ecModel","api","eachSeriesByType","seriesModel","gridRect","getLayoutRect","getBoxLayoutParams","getWidth","getHeight","getData","canvas","document","createElement","maskImage","get","drawImage","e","console","error","toString","sizeRange","rotationRange","valueExtent","getDataExtent","DEGREE_TO_RAD","Math","PI","gridSize","list","mapArray","value","idx","itemModel","getItemModel","getName","number","linearMap","sort","a","b","fontFamily","fontWeight","ellipticity","minRotation","maxRotation","clearCanvas","rotateRatio","rotationStep","drawOutOfBound","shuffle","shape","onWordCloudDrawn","item","detail","drawn","layoutInstance","ondraw","gx","x","gy","y","addEventListener","dispose","removeEventListener","preventDefault","registerPreprocessor","option","series","util","isArray","compats","each","seriesItem","type","textStyle","compatTextStyle","normal","emphasis","key","hasOwnProperty","format","capitalFirst"],"sources":["/Users/tangxinyu/WebstormProjects/cs209a_proj/node_modules/echarts-wordcloud/src/wordCloud.js"],"sourcesContent":["var echarts = require('echarts/lib/echarts');\nvar layoutUtil = require('echarts/lib/util/layout');\n\nrequire('./WordCloudSeries');\nrequire('./WordCloudView');\n\nvar wordCloudLayoutHelper = require('./layout');\n\nif (!wordCloudLayoutHelper.isSupported) {\n    throw new Error('Sorry your browser not support wordCloud');\n}\n\n// https://github.com/timdream/wordcloud2.js/blob/c236bee60436e048949f9becc4f0f67bd832dc5c/index.js#L233\nfunction updateCanvasMask(maskCanvas) {\n    var ctx = maskCanvas.getContext('2d');\n    var imageData = ctx.getImageData(\n        0, 0, maskCanvas.width, maskCanvas.height);\n    var newImageData = ctx.createImageData(imageData);\n\n    var toneSum = 0;\n    var toneCnt = 0;\n    for (var i = 0; i < imageData.data.length; i += 4) {\n        var alpha = imageData.data[i + 3];\n        if (alpha > 128) {\n            var tone = imageData.data[i]\n                + imageData.data[i + 1]\n                + imageData.data[i + 2];\n            toneSum += tone;\n            ++toneCnt;\n        }\n    }\n    var threshold = toneSum / toneCnt;\n\n    for (var i = 0; i < imageData.data.length; i += 4) {\n        var tone = imageData.data[i]\n            + imageData.data[i + 1]\n            + imageData.data[i + 2];\n        var alpha = imageData.data[i + 3];\n\n        if (alpha < 128 || tone > threshold) {\n            // Area not to draw\n            newImageData.data[i] = 0;\n            newImageData.data[i + 1] = 0;\n            newImageData.data[i + 2] = 0;\n            newImageData.data[i + 3] = 0;\n        }\n        else {\n            // Area to draw\n            // The color must be same with backgroundColor\n            newImageData.data[i] = 255;\n            newImageData.data[i + 1] = 255;\n            newImageData.data[i + 2] = 255;\n            newImageData.data[i + 3] = 255;\n        }\n    }\n\n    ctx.putImageData(newImageData, 0, 0);\n}\n\necharts.registerLayout(function (ecModel, api) {\n    ecModel.eachSeriesByType('wordCloud', function (seriesModel) {\n        var gridRect = layoutUtil.getLayoutRect(\n            seriesModel.getBoxLayoutParams(), {\n                width: api.getWidth(),\n                height: api.getHeight()\n            }\n        );\n        var data = seriesModel.getData();\n\n        var canvas = document.createElement('canvas');\n        canvas.width = gridRect.width;\n        canvas.height = gridRect.height;\n\n        var ctx = canvas.getContext('2d');\n        var maskImage = seriesModel.get('maskImage');\n        if (maskImage) {\n            try {\n                ctx.drawImage(maskImage, 0, 0, canvas.width, canvas.height);\n                updateCanvasMask(canvas);\n            }\n            catch (e) {\n                console.error('Invalid mask image');\n                console.error(e.toString());\n            }\n        }\n\n        var sizeRange = seriesModel.get('sizeRange');\n        var rotationRange = seriesModel.get('rotationRange');\n        var valueExtent = data.getDataExtent('value');\n\n        var DEGREE_TO_RAD = Math.PI / 180;\n        var gridSize = seriesModel.get('gridSize');\n        wordCloudLayoutHelper(canvas, {\n            list: data.mapArray('value', function (value, idx) {\n                var itemModel = data.getItemModel(idx);\n                return [\n                    data.getName(idx),\n                    itemModel.get('textStyle.normal.textSize', true)\n                        || echarts.number.linearMap(value, valueExtent, sizeRange),\n                    idx\n                ];\n            }).sort(function (a, b) {\n                // Sort from large to small in case there is no more room for more words\n                return b[1] - a[1];\n            }),\n            fontFamily: seriesModel.get('textStyle.normal.fontFamily')\n                || seriesModel.get('textStyle.emphasis.fontFamily')\n                || ecModel.get('textStyle.fontFamily'),\n            fontWeight: seriesModel.get('textStyle.normal.fontWeight')\n                || seriesModel.get('textStyle.emphasis.fontWeight')\n                || ecModel.get('textStyle.fontWeight'),\n            gridSize: gridSize,\n\n            ellipticity: gridRect.height / gridRect.width,\n\n            minRotation: rotationRange[0] * DEGREE_TO_RAD,\n            maxRotation: rotationRange[1] * DEGREE_TO_RAD,\n\n            clearCanvas: !maskImage,\n\n            rotateRatio: 1,\n\n            rotationStep: seriesModel.get('rotationStep') * DEGREE_TO_RAD,\n\n            drawOutOfBound: seriesModel.get('drawOutOfBound'),\n\n            shuffle: false,\n\n            shape: seriesModel.get('shape')\n        });\n\n        function onWordCloudDrawn(e) {\n            var item = e.detail.item;\n            if (e.detail.drawn && seriesModel.layoutInstance.ondraw) {\n                e.detail.drawn.gx += gridRect.x / gridSize;\n                e.detail.drawn.gy += gridRect.y / gridSize;\n                seriesModel.layoutInstance.ondraw(\n                    item[0], item[1], item[2], e.detail.drawn\n                );\n            }\n        }\n\n        canvas.addEventListener('wordclouddrawn', onWordCloudDrawn);\n\n        if (seriesModel.layoutInstance) {\n            // Dispose previous\n            seriesModel.layoutInstance.dispose();\n        }\n\n        seriesModel.layoutInstance = {\n            ondraw: null,\n\n            dispose: function () {\n                canvas.removeEventListener('wordclouddrawn', onWordCloudDrawn);\n                // Abort\n                canvas.addEventListener('wordclouddrawn', function (e) {\n                    // Prevent default to cancle the event and stop the loop\n                    e.preventDefault();\n                });\n            }\n        };\n    });\n});\n\necharts.registerPreprocessor(function (option) {\n    var series = (option || {}).series;\n    !echarts.util.isArray(series) && (series = series ? [series] : []);\n\n    var compats = ['shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n\n    echarts.util.each(series, function (seriesItem) {\n        if (seriesItem && seriesItem.type === 'wordCloud') {\n            var textStyle = seriesItem.textStyle || {};\n\n            compatTextStyle(textStyle.normal);\n            compatTextStyle(textStyle.emphasis);\n        }\n    });\n\n    function compatTextStyle(textStyle) {\n        textStyle && echarts.util.each(compats, function (key) {\n            if (textStyle.hasOwnProperty(key)) {\n                textStyle['text' + echarts.format.capitalFirst(key)] = textStyle[key];\n            }\n        });\n    }\n});\n"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AAC5C,IAAIC,UAAU,GAAGD,OAAO,CAAC,yBAAyB,CAAC;AAEnDA,OAAO,CAAC,mBAAmB,CAAC;AAC5BA,OAAO,CAAC,iBAAiB,CAAC;AAE1B,IAAIE,qBAAqB,GAAGF,OAAO,CAAC,UAAU,CAAC;AAE/C,IAAI,CAACE,qBAAqB,CAACC,WAAW,EAAE;EACpC,MAAM,IAAIC,KAAK,CAAC,0CAA0C,CAAC;AAC/D;;AAEA;AACA,SAASC,gBAAgB,CAACC,UAAU,EAAE;EAClC,IAAIC,GAAG,GAAGD,UAAU,CAACE,UAAU,CAAC,IAAI,CAAC;EACrC,IAAIC,SAAS,GAAGF,GAAG,CAACG,YAAY,CAC5B,CAAC,EAAE,CAAC,EAAEJ,UAAU,CAACK,KAAK,EAAEL,UAAU,CAACM,MAAM,CAAC;EAC9C,IAAIC,YAAY,GAAGN,GAAG,CAACO,eAAe,CAACL,SAAS,CAAC;EAEjD,IAAIM,OAAO,GAAG,CAAC;EACf,IAAIC,OAAO,GAAG,CAAC;EACf,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,SAAS,CAACS,IAAI,CAACC,MAAM,EAAEF,CAAC,IAAI,CAAC,EAAE;IAC/C,IAAIG,KAAK,GAAGX,SAAS,CAACS,IAAI,CAACD,CAAC,GAAG,CAAC,CAAC;IACjC,IAAIG,KAAK,GAAG,GAAG,EAAE;MACb,IAAIC,IAAI,GAAGZ,SAAS,CAACS,IAAI,CAACD,CAAC,CAAC,GACtBR,SAAS,CAACS,IAAI,CAACD,CAAC,GAAG,CAAC,CAAC,GACrBR,SAAS,CAACS,IAAI,CAACD,CAAC,GAAG,CAAC,CAAC;MAC3BF,OAAO,IAAIM,IAAI;MACf,EAAEL,OAAO;IACb;EACJ;EACA,IAAIM,SAAS,GAAGP,OAAO,GAAGC,OAAO;EAEjC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,SAAS,CAACS,IAAI,CAACC,MAAM,EAAEF,CAAC,IAAI,CAAC,EAAE;IAC/C,IAAII,IAAI,GAAGZ,SAAS,CAACS,IAAI,CAACD,CAAC,CAAC,GACtBR,SAAS,CAACS,IAAI,CAACD,CAAC,GAAG,CAAC,CAAC,GACrBR,SAAS,CAACS,IAAI,CAACD,CAAC,GAAG,CAAC,CAAC;IAC3B,IAAIG,KAAK,GAAGX,SAAS,CAACS,IAAI,CAACD,CAAC,GAAG,CAAC,CAAC;IAEjC,IAAIG,KAAK,GAAG,GAAG,IAAIC,IAAI,GAAGC,SAAS,EAAE;MACjC;MACAT,YAAY,CAACK,IAAI,CAACD,CAAC,CAAC,GAAG,CAAC;MACxBJ,YAAY,CAACK,IAAI,CAACD,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;MAC5BJ,YAAY,CAACK,IAAI,CAACD,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;MAC5BJ,YAAY,CAACK,IAAI,CAACD,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;IAChC,CAAC,MACI;MACD;MACA;MACAJ,YAAY,CAACK,IAAI,CAACD,CAAC,CAAC,GAAG,GAAG;MAC1BJ,YAAY,CAACK,IAAI,CAACD,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG;MAC9BJ,YAAY,CAACK,IAAI,CAACD,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG;MAC9BJ,YAAY,CAACK,IAAI,CAACD,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG;IAClC;EACJ;EAEAV,GAAG,CAACgB,YAAY,CAACV,YAAY,EAAE,CAAC,EAAE,CAAC,CAAC;AACxC;AAEAd,OAAO,CAACyB,cAAc,CAAC,UAAUC,OAAO,EAAEC,GAAG,EAAE;EAC3CD,OAAO,CAACE,gBAAgB,CAAC,WAAW,EAAE,UAAUC,WAAW,EAAE;IACzD,IAAIC,QAAQ,GAAG5B,UAAU,CAAC6B,aAAa,CACnCF,WAAW,CAACG,kBAAkB,EAAE,EAAE;MAC9BpB,KAAK,EAAEe,GAAG,CAACM,QAAQ,EAAE;MACrBpB,MAAM,EAAEc,GAAG,CAACO,SAAS;IACzB,CAAC,CACJ;IACD,IAAIf,IAAI,GAAGU,WAAW,CAACM,OAAO,EAAE;IAEhC,IAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC7CF,MAAM,CAACxB,KAAK,GAAGkB,QAAQ,CAAClB,KAAK;IAC7BwB,MAAM,CAACvB,MAAM,GAAGiB,QAAQ,CAACjB,MAAM;IAE/B,IAAIL,GAAG,GAAG4B,MAAM,CAAC3B,UAAU,CAAC,IAAI,CAAC;IACjC,IAAI8B,SAAS,GAAGV,WAAW,CAACW,GAAG,CAAC,WAAW,CAAC;IAC5C,IAAID,SAAS,EAAE;MACX,IAAI;QACA/B,GAAG,CAACiC,SAAS,CAACF,SAAS,EAAE,CAAC,EAAE,CAAC,EAAEH,MAAM,CAACxB,KAAK,EAAEwB,MAAM,CAACvB,MAAM,CAAC;QAC3DP,gBAAgB,CAAC8B,MAAM,CAAC;MAC5B,CAAC,CACD,OAAOM,CAAC,EAAE;QACNC,OAAO,CAACC,KAAK,CAAC,oBAAoB,CAAC;QACnCD,OAAO,CAACC,KAAK,CAACF,CAAC,CAACG,QAAQ,EAAE,CAAC;MAC/B;IACJ;IAEA,IAAIC,SAAS,GAAGjB,WAAW,CAACW,GAAG,CAAC,WAAW,CAAC;IAC5C,IAAIO,aAAa,GAAGlB,WAAW,CAACW,GAAG,CAAC,eAAe,CAAC;IACpD,IAAIQ,WAAW,GAAG7B,IAAI,CAAC8B,aAAa,CAAC,OAAO,CAAC;IAE7C,IAAIC,aAAa,GAAGC,IAAI,CAACC,EAAE,GAAG,GAAG;IACjC,IAAIC,QAAQ,GAAGxB,WAAW,CAACW,GAAG,CAAC,UAAU,CAAC;IAC1CrC,qBAAqB,CAACiC,MAAM,EAAE;MAC1BkB,IAAI,EAAEnC,IAAI,CAACoC,QAAQ,CAAC,OAAO,EAAE,UAAUC,KAAK,EAAEC,GAAG,EAAE;QAC/C,IAAIC,SAAS,GAAGvC,IAAI,CAACwC,YAAY,CAACF,GAAG,CAAC;QACtC,OAAO,CACHtC,IAAI,CAACyC,OAAO,CAACH,GAAG,CAAC,EACjBC,SAAS,CAAClB,GAAG,CAAC,2BAA2B,EAAE,IAAI,CAAC,IACzCxC,OAAO,CAAC6D,MAAM,CAACC,SAAS,CAACN,KAAK,EAAER,WAAW,EAAEF,SAAS,CAAC,EAC9DW,GAAG,CACN;MACL,CAAC,CAAC,CAACM,IAAI,CAAC,UAAUC,CAAC,EAAEC,CAAC,EAAE;QACpB;QACA,OAAOA,CAAC,CAAC,CAAC,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC;MACtB,CAAC,CAAC;MACFE,UAAU,EAAErC,WAAW,CAACW,GAAG,CAAC,6BAA6B,CAAC,IACnDX,WAAW,CAACW,GAAG,CAAC,+BAA+B,CAAC,IAChDd,OAAO,CAACc,GAAG,CAAC,sBAAsB,CAAC;MAC1C2B,UAAU,EAAEtC,WAAW,CAACW,GAAG,CAAC,6BAA6B,CAAC,IACnDX,WAAW,CAACW,GAAG,CAAC,+BAA+B,CAAC,IAChDd,OAAO,CAACc,GAAG,CAAC,sBAAsB,CAAC;MAC1Ca,QAAQ,EAAEA,QAAQ;MAElBe,WAAW,EAAEtC,QAAQ,CAACjB,MAAM,GAAGiB,QAAQ,CAAClB,KAAK;MAE7CyD,WAAW,EAAEtB,aAAa,CAAC,CAAC,CAAC,GAAGG,aAAa;MAC7CoB,WAAW,EAAEvB,aAAa,CAAC,CAAC,CAAC,GAAGG,aAAa;MAE7CqB,WAAW,EAAE,CAAChC,SAAS;MAEvBiC,WAAW,EAAE,CAAC;MAEdC,YAAY,EAAE5C,WAAW,CAACW,GAAG,CAAC,cAAc,CAAC,GAAGU,aAAa;MAE7DwB,cAAc,EAAE7C,WAAW,CAACW,GAAG,CAAC,gBAAgB,CAAC;MAEjDmC,OAAO,EAAE,KAAK;MAEdC,KAAK,EAAE/C,WAAW,CAACW,GAAG,CAAC,OAAO;IAClC,CAAC,CAAC;IAEF,SAASqC,gBAAgB,CAACnC,CAAC,EAAE;MACzB,IAAIoC,IAAI,GAAGpC,CAAC,CAACqC,MAAM,CAACD,IAAI;MACxB,IAAIpC,CAAC,CAACqC,MAAM,CAACC,KAAK,IAAInD,WAAW,CAACoD,cAAc,CAACC,MAAM,EAAE;QACrDxC,CAAC,CAACqC,MAAM,CAACC,KAAK,CAACG,EAAE,IAAIrD,QAAQ,CAACsD,CAAC,GAAG/B,QAAQ;QAC1CX,CAAC,CAACqC,MAAM,CAACC,KAAK,CAACK,EAAE,IAAIvD,QAAQ,CAACwD,CAAC,GAAGjC,QAAQ;QAC1CxB,WAAW,CAACoD,cAAc,CAACC,MAAM,CAC7BJ,IAAI,CAAC,CAAC,CAAC,EAAEA,IAAI,CAAC,CAAC,CAAC,EAAEA,IAAI,CAAC,CAAC,CAAC,EAAEpC,CAAC,CAACqC,MAAM,CAACC,KAAK,CAC5C;MACL;IACJ;IAEA5C,MAAM,CAACmD,gBAAgB,CAAC,gBAAgB,EAAEV,gBAAgB,CAAC;IAE3D,IAAIhD,WAAW,CAACoD,cAAc,EAAE;MAC5B;MACApD,WAAW,CAACoD,cAAc,CAACO,OAAO,EAAE;IACxC;IAEA3D,WAAW,CAACoD,cAAc,GAAG;MACzBC,MAAM,EAAE,IAAI;MAEZM,OAAO,EAAE,YAAY;QACjBpD,MAAM,CAACqD,mBAAmB,CAAC,gBAAgB,EAAEZ,gBAAgB,CAAC;QAC9D;QACAzC,MAAM,CAACmD,gBAAgB,CAAC,gBAAgB,EAAE,UAAU7C,CAAC,EAAE;UACnD;UACAA,CAAC,CAACgD,cAAc,EAAE;QACtB,CAAC,CAAC;MACN;IACJ,CAAC;EACL,CAAC,CAAC;AACN,CAAC,CAAC;AAEF1F,OAAO,CAAC2F,oBAAoB,CAAC,UAAUC,MAAM,EAAE;EAC3C,IAAIC,MAAM,GAAG,CAACD,MAAM,IAAI,CAAC,CAAC,EAAEC,MAAM;EAClC,CAAC7F,OAAO,CAAC8F,IAAI,CAACC,OAAO,CAACF,MAAM,CAAC,KAAKA,MAAM,GAAGA,MAAM,GAAG,CAACA,MAAM,CAAC,GAAG,EAAE,CAAC;EAElE,IAAIG,OAAO,GAAG,CAAC,aAAa,EAAE,YAAY,EAAE,eAAe,EAAE,eAAe,CAAC;EAE7EhG,OAAO,CAAC8F,IAAI,CAACG,IAAI,CAACJ,MAAM,EAAE,UAAUK,UAAU,EAAE;IAC5C,IAAIA,UAAU,IAAIA,UAAU,CAACC,IAAI,KAAK,WAAW,EAAE;MAC/C,IAAIC,SAAS,GAAGF,UAAU,CAACE,SAAS,IAAI,CAAC,CAAC;MAE1CC,eAAe,CAACD,SAAS,CAACE,MAAM,CAAC;MACjCD,eAAe,CAACD,SAAS,CAACG,QAAQ,CAAC;IACvC;EACJ,CAAC,CAAC;EAEF,SAASF,eAAe,CAACD,SAAS,EAAE;IAChCA,SAAS,IAAIpG,OAAO,CAAC8F,IAAI,CAACG,IAAI,CAACD,OAAO,EAAE,UAAUQ,GAAG,EAAE;MACnD,IAAIJ,SAAS,CAACK,cAAc,CAACD,GAAG,CAAC,EAAE;QAC/BJ,SAAS,CAAC,MAAM,GAAGpG,OAAO,CAAC0G,MAAM,CAACC,YAAY,CAACH,GAAG,CAAC,CAAC,GAAGJ,SAAS,CAACI,GAAG,CAAC;MACzE;IACJ,CAAC,CAAC;EACN;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}