{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\nvar graphic = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar NodeHighlightPolicy = {\n  NONE: 'none',\n  // not downplay others\n  DESCENDANT: 'descendant',\n  ANCESTOR: 'ancestor',\n  SELF: 'self'\n};\nvar DEFAULT_SECTOR_Z = 2;\nvar DEFAULT_TEXT_Z = 4;\n/**\n * Sunburstce of Sunburst including Sector, Label, LabelLine\n * @constructor\n * @extends {module:zrender/graphic/Group}\n */\n\nfunction SunburstPiece(node, seriesModel, ecModel) {\n  graphic.Group.call(this);\n  var sector = new graphic.Sector({\n    z2: DEFAULT_SECTOR_Z\n  });\n  sector.seriesIndex = seriesModel.seriesIndex;\n  var text = new graphic.Text({\n    z2: DEFAULT_TEXT_Z,\n    silent: node.getModel('label').get('silent')\n  });\n  this.add(sector);\n  this.add(text);\n  this.updateData(true, node, 'normal', seriesModel, ecModel); // Hover to change label and labelLine\n\n  function onEmphasis() {\n    text.ignore = text.hoverIgnore;\n  }\n  function onNormal() {\n    text.ignore = text.normalIgnore;\n  }\n  this.on('emphasis', onEmphasis).on('normal', onNormal).on('mouseover', onEmphasis).on('mouseout', onNormal);\n}\nvar SunburstPieceProto = SunburstPiece.prototype;\nSunburstPieceProto.updateData = function (firstCreate, node, state, seriesModel, ecModel) {\n  this.node = node;\n  node.piece = this;\n  seriesModel = seriesModel || this._seriesModel;\n  ecModel = ecModel || this._ecModel;\n  var sector = this.childAt(0);\n  sector.dataIndex = node.dataIndex;\n  var itemModel = node.getModel();\n  var layout = node.getLayout(); // if (!layout) {\n  //     console.log(node.getLayout());\n  // }\n\n  var sectorShape = zrUtil.extend({}, layout);\n  sectorShape.label = null;\n  var visualColor = getNodeColor(node, seriesModel, ecModel);\n  fillDefaultColor(node, seriesModel, visualColor);\n  var normalStyle = itemModel.getModel('itemStyle').getItemStyle();\n  var style;\n  if (state === 'normal') {\n    style = normalStyle;\n  } else {\n    var stateStyle = itemModel.getModel(state + '.itemStyle').getItemStyle();\n    style = zrUtil.merge(stateStyle, normalStyle);\n  }\n  style = zrUtil.defaults({\n    lineJoin: 'bevel',\n    fill: style.fill || visualColor\n  }, style);\n  if (firstCreate) {\n    sector.setShape(sectorShape);\n    sector.shape.r = layout.r0;\n    graphic.updateProps(sector, {\n      shape: {\n        r: layout.r\n      }\n    }, seriesModel, node.dataIndex);\n    sector.useStyle(style);\n  } else if (typeof style.fill === 'object' && style.fill.type || typeof sector.style.fill === 'object' && sector.style.fill.type) {\n    // Disable animation for gradient since no interpolation method\n    // is supported for gradient\n    graphic.updateProps(sector, {\n      shape: sectorShape\n    }, seriesModel);\n    sector.useStyle(style);\n  } else {\n    graphic.updateProps(sector, {\n      shape: sectorShape,\n      style: style\n    }, seriesModel);\n  }\n  this._updateLabel(seriesModel, visualColor, state);\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && sector.attr('cursor', cursorStyle);\n  if (firstCreate) {\n    var highlightPolicy = seriesModel.getShallow('highlightPolicy');\n    this._initEvents(sector, node, seriesModel, highlightPolicy);\n  }\n  this._seriesModel = seriesModel || this._seriesModel;\n  this._ecModel = ecModel || this._ecModel;\n};\nSunburstPieceProto.onEmphasis = function (highlightPolicy) {\n  var that = this;\n  this.node.hostTree.root.eachNode(function (n) {\n    if (n.piece) {\n      if (that.node === n) {\n        n.piece.updateData(false, n, 'emphasis');\n      } else if (isNodeHighlighted(n, that.node, highlightPolicy)) {\n        n.piece.childAt(0).trigger('highlight');\n      } else if (highlightPolicy !== NodeHighlightPolicy.NONE) {\n        n.piece.childAt(0).trigger('downplay');\n      }\n    }\n  });\n};\nSunburstPieceProto.onNormal = function () {\n  this.node.hostTree.root.eachNode(function (n) {\n    if (n.piece) {\n      n.piece.updateData(false, n, 'normal');\n    }\n  });\n};\nSunburstPieceProto.onHighlight = function () {\n  this.updateData(false, this.node, 'highlight');\n};\nSunburstPieceProto.onDownplay = function () {\n  this.updateData(false, this.node, 'downplay');\n};\nSunburstPieceProto._updateLabel = function (seriesModel, visualColor, state) {\n  var itemModel = this.node.getModel();\n  var normalModel = itemModel.getModel('label');\n  var labelModel = state === 'normal' || state === 'emphasis' ? normalModel : itemModel.getModel(state + '.label');\n  var labelHoverModel = itemModel.getModel('emphasis.label');\n  var text = zrUtil.retrieve(seriesModel.getFormattedLabel(this.node.dataIndex, state, null, null, 'label'), this.node.name);\n  if (getLabelAttr('show') === false) {\n    text = '';\n  }\n  var layout = this.node.getLayout();\n  var labelMinAngle = labelModel.get('minAngle');\n  if (labelMinAngle == null) {\n    labelMinAngle = normalModel.get('minAngle');\n  }\n  labelMinAngle = labelMinAngle / 180 * Math.PI;\n  var angle = layout.endAngle - layout.startAngle;\n  if (labelMinAngle != null && Math.abs(angle) < labelMinAngle) {\n    // Not displaying text when angle is too small\n    text = '';\n  }\n  var label = this.childAt(1);\n  graphic.setLabelStyle(label.style, label.hoverStyle || {}, normalModel, labelHoverModel, {\n    defaultText: labelModel.getShallow('show') ? text : null,\n    autoColor: visualColor,\n    useInsideStyle: true\n  });\n  var midAngle = (layout.startAngle + layout.endAngle) / 2;\n  var dx = Math.cos(midAngle);\n  var dy = Math.sin(midAngle);\n  var r;\n  var labelPosition = getLabelAttr('position');\n  var labelPadding = getLabelAttr('distance') || 0;\n  var textAlign = getLabelAttr('align');\n  if (labelPosition === 'outside') {\n    r = layout.r + labelPadding;\n    textAlign = midAngle > Math.PI / 2 ? 'right' : 'left';\n  } else {\n    if (!textAlign || textAlign === 'center') {\n      r = (layout.r + layout.r0) / 2;\n      textAlign = 'center';\n    } else if (textAlign === 'left') {\n      r = layout.r0 + labelPadding;\n      if (midAngle > Math.PI / 2) {\n        textAlign = 'right';\n      }\n    } else if (textAlign === 'right') {\n      r = layout.r - labelPadding;\n      if (midAngle > Math.PI / 2) {\n        textAlign = 'left';\n      }\n    }\n  }\n  label.attr('style', {\n    text: text,\n    textAlign: textAlign,\n    textVerticalAlign: getLabelAttr('verticalAlign') || 'middle',\n    opacity: getLabelAttr('opacity')\n  });\n  var textX = r * dx + layout.cx;\n  var textY = r * dy + layout.cy;\n  label.attr('position', [textX, textY]);\n  var rotateType = getLabelAttr('rotate');\n  var rotate = 0;\n  if (rotateType === 'radial') {\n    rotate = -midAngle;\n    if (rotate < -Math.PI / 2) {\n      rotate += Math.PI;\n    }\n  } else if (rotateType === 'tangential') {\n    rotate = Math.PI / 2 - midAngle;\n    if (rotate > Math.PI / 2) {\n      rotate -= Math.PI;\n    } else if (rotate < -Math.PI / 2) {\n      rotate += Math.PI;\n    }\n  } else if (typeof rotateType === 'number') {\n    rotate = rotateType * Math.PI / 180;\n  }\n  label.attr('rotation', rotate);\n  function getLabelAttr(name) {\n    var stateAttr = labelModel.get(name);\n    if (stateAttr == null) {\n      return normalModel.get(name);\n    } else {\n      return stateAttr;\n    }\n  }\n};\nSunburstPieceProto._initEvents = function (sector, node, seriesModel, highlightPolicy) {\n  sector.off('mouseover').off('mouseout').off('emphasis').off('normal');\n  var that = this;\n  var onEmphasis = function () {\n    that.onEmphasis(highlightPolicy);\n  };\n  var onNormal = function () {\n    that.onNormal();\n  };\n  var onDownplay = function () {\n    that.onDownplay();\n  };\n  var onHighlight = function () {\n    that.onHighlight();\n  };\n  if (seriesModel.isAnimationEnabled()) {\n    sector.on('mouseover', onEmphasis).on('mouseout', onNormal).on('emphasis', onEmphasis).on('normal', onNormal).on('downplay', onDownplay).on('highlight', onHighlight);\n  }\n};\nzrUtil.inherits(SunburstPiece, graphic.Group);\nvar _default = SunburstPiece;\n/**\n * Get node color\n *\n * @param {TreeNode} node the node to get color\n * @param {module:echarts/model/Series} seriesModel series\n * @param {module:echarts/model/Global} ecModel echarts defaults\n */\n\nfunction getNodeColor(node, seriesModel, ecModel) {\n  // Color from visualMap\n  var visualColor = node.getVisual('color');\n  var visualMetaList = node.getVisual('visualMeta');\n  if (!visualMetaList || visualMetaList.length === 0) {\n    // Use first-generation color if has no visualMap\n    visualColor = null;\n  } // Self color or level color\n\n  var color = node.getModel('itemStyle').get('color');\n  if (color) {\n    return color;\n  } else if (visualColor) {\n    // Color mapping\n    return visualColor;\n  } else if (node.depth === 0) {\n    // Virtual root node\n    return ecModel.option.color[0];\n  } else {\n    // First-generation color\n    var length = ecModel.option.color.length;\n    color = ecModel.option.color[getRootId(node) % length];\n  }\n  return color;\n}\n/**\n * Get index of root in sorted order\n *\n * @param {TreeNode} node current node\n * @return {number} index in root\n */\n\nfunction getRootId(node) {\n  var ancestor = node;\n  while (ancestor.depth > 1) {\n    ancestor = ancestor.parentNode;\n  }\n  var virtualRoot = node.getAncestors()[0];\n  return zrUtil.indexOf(virtualRoot.children, ancestor);\n}\nfunction isNodeHighlighted(node, activeNode, policy) {\n  if (policy === NodeHighlightPolicy.NONE) {\n    return false;\n  } else if (policy === NodeHighlightPolicy.SELF) {\n    return node === activeNode;\n  } else if (policy === NodeHighlightPolicy.ANCESTOR) {\n    return node === activeNode || node.isAncestorOf(activeNode);\n  } else {\n    return node === activeNode || node.isDescendantOf(activeNode);\n  }\n} // Fix tooltip callback function params.color incorrect when pick a default color\n\nfunction fillDefaultColor(node, seriesModel, color) {\n  var data = seriesModel.getData();\n  data.setItemVisual(node.dataIndex, 'color', color);\n}\nmodule.exports = _default;","map":{"version":3,"names":["zrUtil","require","graphic","NodeHighlightPolicy","NONE","DESCENDANT","ANCESTOR","SELF","DEFAULT_SECTOR_Z","DEFAULT_TEXT_Z","SunburstPiece","node","seriesModel","ecModel","Group","call","sector","Sector","z2","seriesIndex","text","Text","silent","getModel","get","add","updateData","onEmphasis","ignore","hoverIgnore","onNormal","normalIgnore","on","SunburstPieceProto","prototype","firstCreate","state","piece","_seriesModel","_ecModel","childAt","dataIndex","itemModel","layout","getLayout","sectorShape","extend","label","visualColor","getNodeColor","fillDefaultColor","normalStyle","getItemStyle","style","stateStyle","merge","defaults","lineJoin","fill","setShape","shape","r","r0","updateProps","useStyle","type","_updateLabel","cursorStyle","getShallow","attr","highlightPolicy","_initEvents","that","hostTree","root","eachNode","n","isNodeHighlighted","trigger","onHighlight","onDownplay","normalModel","labelModel","labelHoverModel","retrieve","getFormattedLabel","name","getLabelAttr","labelMinAngle","Math","PI","angle","endAngle","startAngle","abs","setLabelStyle","hoverStyle","defaultText","autoColor","useInsideStyle","midAngle","dx","cos","dy","sin","labelPosition","labelPadding","textAlign","textVerticalAlign","opacity","textX","cx","textY","cy","rotateType","rotate","stateAttr","off","isAnimationEnabled","inherits","_default","getVisual","visualMetaList","length","color","depth","option","getRootId","ancestor","parentNode","virtualRoot","getAncestors","indexOf","children","activeNode","policy","isAncestorOf","isDescendantOf","data","getData","setItemVisual","module","exports"],"sources":["/Users/tangxinyu/WebstormProjects/cs209a_proj/node_modules/echarts/lib/chart/sunburst/SunburstPiece.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar NodeHighlightPolicy = {\n  NONE: 'none',\n  // not downplay others\n  DESCENDANT: 'descendant',\n  ANCESTOR: 'ancestor',\n  SELF: 'self'\n};\nvar DEFAULT_SECTOR_Z = 2;\nvar DEFAULT_TEXT_Z = 4;\n/**\n * Sunburstce of Sunburst including Sector, Label, LabelLine\n * @constructor\n * @extends {module:zrender/graphic/Group}\n */\n\nfunction SunburstPiece(node, seriesModel, ecModel) {\n  graphic.Group.call(this);\n  var sector = new graphic.Sector({\n    z2: DEFAULT_SECTOR_Z\n  });\n  sector.seriesIndex = seriesModel.seriesIndex;\n  var text = new graphic.Text({\n    z2: DEFAULT_TEXT_Z,\n    silent: node.getModel('label').get('silent')\n  });\n  this.add(sector);\n  this.add(text);\n  this.updateData(true, node, 'normal', seriesModel, ecModel); // Hover to change label and labelLine\n\n  function onEmphasis() {\n    text.ignore = text.hoverIgnore;\n  }\n\n  function onNormal() {\n    text.ignore = text.normalIgnore;\n  }\n\n  this.on('emphasis', onEmphasis).on('normal', onNormal).on('mouseover', onEmphasis).on('mouseout', onNormal);\n}\n\nvar SunburstPieceProto = SunburstPiece.prototype;\n\nSunburstPieceProto.updateData = function (firstCreate, node, state, seriesModel, ecModel) {\n  this.node = node;\n  node.piece = this;\n  seriesModel = seriesModel || this._seriesModel;\n  ecModel = ecModel || this._ecModel;\n  var sector = this.childAt(0);\n  sector.dataIndex = node.dataIndex;\n  var itemModel = node.getModel();\n  var layout = node.getLayout(); // if (!layout) {\n  //     console.log(node.getLayout());\n  // }\n\n  var sectorShape = zrUtil.extend({}, layout);\n  sectorShape.label = null;\n  var visualColor = getNodeColor(node, seriesModel, ecModel);\n  fillDefaultColor(node, seriesModel, visualColor);\n  var normalStyle = itemModel.getModel('itemStyle').getItemStyle();\n  var style;\n\n  if (state === 'normal') {\n    style = normalStyle;\n  } else {\n    var stateStyle = itemModel.getModel(state + '.itemStyle').getItemStyle();\n    style = zrUtil.merge(stateStyle, normalStyle);\n  }\n\n  style = zrUtil.defaults({\n    lineJoin: 'bevel',\n    fill: style.fill || visualColor\n  }, style);\n\n  if (firstCreate) {\n    sector.setShape(sectorShape);\n    sector.shape.r = layout.r0;\n    graphic.updateProps(sector, {\n      shape: {\n        r: layout.r\n      }\n    }, seriesModel, node.dataIndex);\n    sector.useStyle(style);\n  } else if (typeof style.fill === 'object' && style.fill.type || typeof sector.style.fill === 'object' && sector.style.fill.type) {\n    // Disable animation for gradient since no interpolation method\n    // is supported for gradient\n    graphic.updateProps(sector, {\n      shape: sectorShape\n    }, seriesModel);\n    sector.useStyle(style);\n  } else {\n    graphic.updateProps(sector, {\n      shape: sectorShape,\n      style: style\n    }, seriesModel);\n  }\n\n  this._updateLabel(seriesModel, visualColor, state);\n\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && sector.attr('cursor', cursorStyle);\n\n  if (firstCreate) {\n    var highlightPolicy = seriesModel.getShallow('highlightPolicy');\n\n    this._initEvents(sector, node, seriesModel, highlightPolicy);\n  }\n\n  this._seriesModel = seriesModel || this._seriesModel;\n  this._ecModel = ecModel || this._ecModel;\n};\n\nSunburstPieceProto.onEmphasis = function (highlightPolicy) {\n  var that = this;\n  this.node.hostTree.root.eachNode(function (n) {\n    if (n.piece) {\n      if (that.node === n) {\n        n.piece.updateData(false, n, 'emphasis');\n      } else if (isNodeHighlighted(n, that.node, highlightPolicy)) {\n        n.piece.childAt(0).trigger('highlight');\n      } else if (highlightPolicy !== NodeHighlightPolicy.NONE) {\n        n.piece.childAt(0).trigger('downplay');\n      }\n    }\n  });\n};\n\nSunburstPieceProto.onNormal = function () {\n  this.node.hostTree.root.eachNode(function (n) {\n    if (n.piece) {\n      n.piece.updateData(false, n, 'normal');\n    }\n  });\n};\n\nSunburstPieceProto.onHighlight = function () {\n  this.updateData(false, this.node, 'highlight');\n};\n\nSunburstPieceProto.onDownplay = function () {\n  this.updateData(false, this.node, 'downplay');\n};\n\nSunburstPieceProto._updateLabel = function (seriesModel, visualColor, state) {\n  var itemModel = this.node.getModel();\n  var normalModel = itemModel.getModel('label');\n  var labelModel = state === 'normal' || state === 'emphasis' ? normalModel : itemModel.getModel(state + '.label');\n  var labelHoverModel = itemModel.getModel('emphasis.label');\n  var text = zrUtil.retrieve(seriesModel.getFormattedLabel(this.node.dataIndex, state, null, null, 'label'), this.node.name);\n\n  if (getLabelAttr('show') === false) {\n    text = '';\n  }\n\n  var layout = this.node.getLayout();\n  var labelMinAngle = labelModel.get('minAngle');\n\n  if (labelMinAngle == null) {\n    labelMinAngle = normalModel.get('minAngle');\n  }\n\n  labelMinAngle = labelMinAngle / 180 * Math.PI;\n  var angle = layout.endAngle - layout.startAngle;\n\n  if (labelMinAngle != null && Math.abs(angle) < labelMinAngle) {\n    // Not displaying text when angle is too small\n    text = '';\n  }\n\n  var label = this.childAt(1);\n  graphic.setLabelStyle(label.style, label.hoverStyle || {}, normalModel, labelHoverModel, {\n    defaultText: labelModel.getShallow('show') ? text : null,\n    autoColor: visualColor,\n    useInsideStyle: true\n  });\n  var midAngle = (layout.startAngle + layout.endAngle) / 2;\n  var dx = Math.cos(midAngle);\n  var dy = Math.sin(midAngle);\n  var r;\n  var labelPosition = getLabelAttr('position');\n  var labelPadding = getLabelAttr('distance') || 0;\n  var textAlign = getLabelAttr('align');\n\n  if (labelPosition === 'outside') {\n    r = layout.r + labelPadding;\n    textAlign = midAngle > Math.PI / 2 ? 'right' : 'left';\n  } else {\n    if (!textAlign || textAlign === 'center') {\n      r = (layout.r + layout.r0) / 2;\n      textAlign = 'center';\n    } else if (textAlign === 'left') {\n      r = layout.r0 + labelPadding;\n\n      if (midAngle > Math.PI / 2) {\n        textAlign = 'right';\n      }\n    } else if (textAlign === 'right') {\n      r = layout.r - labelPadding;\n\n      if (midAngle > Math.PI / 2) {\n        textAlign = 'left';\n      }\n    }\n  }\n\n  label.attr('style', {\n    text: text,\n    textAlign: textAlign,\n    textVerticalAlign: getLabelAttr('verticalAlign') || 'middle',\n    opacity: getLabelAttr('opacity')\n  });\n  var textX = r * dx + layout.cx;\n  var textY = r * dy + layout.cy;\n  label.attr('position', [textX, textY]);\n  var rotateType = getLabelAttr('rotate');\n  var rotate = 0;\n\n  if (rotateType === 'radial') {\n    rotate = -midAngle;\n\n    if (rotate < -Math.PI / 2) {\n      rotate += Math.PI;\n    }\n  } else if (rotateType === 'tangential') {\n    rotate = Math.PI / 2 - midAngle;\n\n    if (rotate > Math.PI / 2) {\n      rotate -= Math.PI;\n    } else if (rotate < -Math.PI / 2) {\n      rotate += Math.PI;\n    }\n  } else if (typeof rotateType === 'number') {\n    rotate = rotateType * Math.PI / 180;\n  }\n\n  label.attr('rotation', rotate);\n\n  function getLabelAttr(name) {\n    var stateAttr = labelModel.get(name);\n\n    if (stateAttr == null) {\n      return normalModel.get(name);\n    } else {\n      return stateAttr;\n    }\n  }\n};\n\nSunburstPieceProto._initEvents = function (sector, node, seriesModel, highlightPolicy) {\n  sector.off('mouseover').off('mouseout').off('emphasis').off('normal');\n  var that = this;\n\n  var onEmphasis = function () {\n    that.onEmphasis(highlightPolicy);\n  };\n\n  var onNormal = function () {\n    that.onNormal();\n  };\n\n  var onDownplay = function () {\n    that.onDownplay();\n  };\n\n  var onHighlight = function () {\n    that.onHighlight();\n  };\n\n  if (seriesModel.isAnimationEnabled()) {\n    sector.on('mouseover', onEmphasis).on('mouseout', onNormal).on('emphasis', onEmphasis).on('normal', onNormal).on('downplay', onDownplay).on('highlight', onHighlight);\n  }\n};\n\nzrUtil.inherits(SunburstPiece, graphic.Group);\nvar _default = SunburstPiece;\n/**\n * Get node color\n *\n * @param {TreeNode} node the node to get color\n * @param {module:echarts/model/Series} seriesModel series\n * @param {module:echarts/model/Global} ecModel echarts defaults\n */\n\nfunction getNodeColor(node, seriesModel, ecModel) {\n  // Color from visualMap\n  var visualColor = node.getVisual('color');\n  var visualMetaList = node.getVisual('visualMeta');\n\n  if (!visualMetaList || visualMetaList.length === 0) {\n    // Use first-generation color if has no visualMap\n    visualColor = null;\n  } // Self color or level color\n\n\n  var color = node.getModel('itemStyle').get('color');\n\n  if (color) {\n    return color;\n  } else if (visualColor) {\n    // Color mapping\n    return visualColor;\n  } else if (node.depth === 0) {\n    // Virtual root node\n    return ecModel.option.color[0];\n  } else {\n    // First-generation color\n    var length = ecModel.option.color.length;\n    color = ecModel.option.color[getRootId(node) % length];\n  }\n\n  return color;\n}\n/**\n * Get index of root in sorted order\n *\n * @param {TreeNode} node current node\n * @return {number} index in root\n */\n\n\nfunction getRootId(node) {\n  var ancestor = node;\n\n  while (ancestor.depth > 1) {\n    ancestor = ancestor.parentNode;\n  }\n\n  var virtualRoot = node.getAncestors()[0];\n  return zrUtil.indexOf(virtualRoot.children, ancestor);\n}\n\nfunction isNodeHighlighted(node, activeNode, policy) {\n  if (policy === NodeHighlightPolicy.NONE) {\n    return false;\n  } else if (policy === NodeHighlightPolicy.SELF) {\n    return node === activeNode;\n  } else if (policy === NodeHighlightPolicy.ANCESTOR) {\n    return node === activeNode || node.isAncestorOf(activeNode);\n  } else {\n    return node === activeNode || node.isDescendantOf(activeNode);\n  }\n} // Fix tooltip callback function params.color incorrect when pick a default color\n\n\nfunction fillDefaultColor(node, seriesModel, color) {\n  var data = seriesModel.getData();\n  data.setItemVisual(node.dataIndex, 'color', color);\n}\n\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}