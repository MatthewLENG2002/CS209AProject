{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\nvar zrUtil = require(\"zrender/lib/core/util\");\nvar textContain = require(\"zrender/lib/contain/text\");\nvar featureManager = require(\"./featureManager\");\nvar graphic = require(\"../../util/graphic\");\nvar Model = require(\"../../model/Model\");\nvar DataDiffer = require(\"../../data/DataDiffer\");\nvar listComponentHelper = require(\"../helper/listComponent\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentView({\n  type: 'toolbox',\n  render: function (toolboxModel, ecModel, api, payload) {\n    var group = this.group;\n    group.removeAll();\n    if (!toolboxModel.get('show')) {\n      return;\n    }\n    var itemSize = +toolboxModel.get('itemSize');\n    var featureOpts = toolboxModel.get('feature') || {};\n    var features = this._features || (this._features = {});\n    var featureNames = [];\n    zrUtil.each(featureOpts, function (opt, name) {\n      featureNames.push(name);\n    });\n    new DataDiffer(this._featureNames || [], featureNames).add(processFeature).update(processFeature).remove(zrUtil.curry(processFeature, null)).execute(); // Keep for diff.\n\n    this._featureNames = featureNames;\n    function processFeature(newIndex, oldIndex) {\n      var featureName = featureNames[newIndex];\n      var oldName = featureNames[oldIndex];\n      var featureOpt = featureOpts[featureName];\n      var featureModel = new Model(featureOpt, toolboxModel, toolboxModel.ecModel);\n      var feature;\n      if (featureName && !oldName) {\n        // Create\n        if (isUserFeatureName(featureName)) {\n          feature = {\n            model: featureModel,\n            onclick: featureModel.option.onclick,\n            featureName: featureName\n          };\n        } else {\n          var Feature = featureManager.get(featureName);\n          if (!Feature) {\n            return;\n          }\n          feature = new Feature(featureModel, ecModel, api);\n        }\n        features[featureName] = feature;\n      } else {\n        feature = features[oldName]; // If feature does not exsit.\n\n        if (!feature) {\n          return;\n        }\n        feature.model = featureModel;\n        feature.ecModel = ecModel;\n        feature.api = api;\n      }\n      if (!featureName && oldName) {\n        feature.dispose && feature.dispose(ecModel, api);\n        return;\n      }\n      if (!featureModel.get('show') || feature.unusable) {\n        feature.remove && feature.remove(ecModel, api);\n        return;\n      }\n      createIconPaths(featureModel, feature, featureName);\n      featureModel.setIconStatus = function (iconName, status) {\n        var option = this.option;\n        var iconPaths = this.iconPaths;\n        option.iconStatus = option.iconStatus || {};\n        option.iconStatus[iconName] = status; // FIXME\n\n        iconPaths[iconName] && iconPaths[iconName].trigger(status);\n      };\n      if (feature.render) {\n        feature.render(featureModel, ecModel, api, payload);\n      }\n    }\n    function createIconPaths(featureModel, feature, featureName) {\n      var iconStyleModel = featureModel.getModel('iconStyle');\n      var iconStyleEmphasisModel = featureModel.getModel('emphasis.iconStyle'); // If one feature has mutiple icon. they are orginaized as\n      // {\n      //     icon: {\n      //         foo: '',\n      //         bar: ''\n      //     },\n      //     title: {\n      //         foo: '',\n      //         bar: ''\n      //     }\n      // }\n\n      var icons = feature.getIcons ? feature.getIcons() : featureModel.get('icon');\n      var titles = featureModel.get('title') || {};\n      if (typeof icons === 'string') {\n        var icon = icons;\n        var title = titles;\n        icons = {};\n        titles = {};\n        icons[featureName] = icon;\n        titles[featureName] = title;\n      }\n      var iconPaths = featureModel.iconPaths = {};\n      zrUtil.each(icons, function (iconStr, iconName) {\n        var path = graphic.createIcon(iconStr, {}, {\n          x: -itemSize / 2,\n          y: -itemSize / 2,\n          width: itemSize,\n          height: itemSize\n        });\n        path.setStyle(iconStyleModel.getItemStyle());\n        path.hoverStyle = iconStyleEmphasisModel.getItemStyle(); // Text position calculation\n\n        path.setStyle({\n          text: titles[iconName],\n          textAlign: iconStyleEmphasisModel.get('textAlign'),\n          textBorderRadius: iconStyleEmphasisModel.get('textBorderRadius'),\n          textPadding: iconStyleEmphasisModel.get('textPadding'),\n          textFill: null\n        });\n        var tooltipModel = toolboxModel.getModel('tooltip');\n        if (tooltipModel && tooltipModel.get('show')) {\n          path.attr('tooltip', zrUtil.extend({\n            content: titles[iconName],\n            formatter: tooltipModel.get('formatter', true) || function () {\n              return titles[iconName];\n            },\n            formatterParams: {\n              componentType: 'toolbox',\n              name: iconName,\n              title: titles[iconName],\n              $vars: ['name', 'title']\n            },\n            position: tooltipModel.get('position', true) || 'bottom'\n          }, tooltipModel.option));\n        }\n        graphic.setHoverStyle(path);\n        if (toolboxModel.get('showTitle')) {\n          path.__title = titles[iconName];\n          path.on('mouseover', function () {\n            // Should not reuse above hoverStyle, which might be modified.\n            var hoverStyle = iconStyleEmphasisModel.getItemStyle();\n            var defaultTextPosition = toolboxModel.get('orient') === 'vertical' ? toolboxModel.get('right') == null ? 'right' : 'left' : toolboxModel.get('bottom') == null ? 'bottom' : 'top';\n            path.setStyle({\n              textFill: iconStyleEmphasisModel.get('textFill') || hoverStyle.fill || hoverStyle.stroke || '#000',\n              textBackgroundColor: iconStyleEmphasisModel.get('textBackgroundColor'),\n              textPosition: iconStyleEmphasisModel.get('textPosition') || defaultTextPosition\n            });\n          }).on('mouseout', function () {\n            path.setStyle({\n              textFill: null,\n              textBackgroundColor: null\n            });\n          });\n        }\n        path.trigger(featureModel.get('iconStatus.' + iconName) || 'normal');\n        group.add(path);\n        path.on('click', zrUtil.bind(feature.onclick, feature, ecModel, api, iconName));\n        iconPaths[iconName] = path;\n      });\n    }\n    listComponentHelper.layout(group, toolboxModel, api); // Render background after group is layout\n    // FIXME\n\n    group.add(listComponentHelper.makeBackground(group.getBoundingRect(), toolboxModel)); // Adjust icon title positions to avoid them out of screen\n\n    group.eachChild(function (icon) {\n      var titleText = icon.__title;\n      var hoverStyle = icon.hoverStyle; // May be background element\n\n      if (hoverStyle && titleText) {\n        var rect = textContain.getBoundingRect(titleText, textContain.makeFont(hoverStyle));\n        var offsetX = icon.position[0] + group.position[0];\n        var offsetY = icon.position[1] + group.position[1] + itemSize;\n        var needPutOnTop = false;\n        if (offsetY + rect.height > api.getHeight()) {\n          hoverStyle.textPosition = 'top';\n          needPutOnTop = true;\n        }\n        var topOffset = needPutOnTop ? -5 - rect.height : itemSize + 8;\n        if (offsetX + rect.width / 2 > api.getWidth()) {\n          hoverStyle.textPosition = ['100%', topOffset];\n          hoverStyle.textAlign = 'right';\n        } else if (offsetX - rect.width / 2 < 0) {\n          hoverStyle.textPosition = [0, topOffset];\n          hoverStyle.textAlign = 'left';\n        }\n      }\n    });\n  },\n  updateView: function (toolboxModel, ecModel, api, payload) {\n    zrUtil.each(this._features, function (feature) {\n      feature.updateView && feature.updateView(feature.model, ecModel, api, payload);\n    });\n  },\n  // updateLayout: function (toolboxModel, ecModel, api, payload) {\n  //     zrUtil.each(this._features, function (feature) {\n  //         feature.updateLayout && feature.updateLayout(feature.model, ecModel, api, payload);\n  //     });\n  // },\n  remove: function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature.remove && feature.remove(ecModel, api);\n    });\n    this.group.removeAll();\n  },\n  dispose: function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature.dispose && feature.dispose(ecModel, api);\n    });\n  }\n});\nfunction isUserFeatureName(featureName) {\n  return featureName.indexOf('my') === 0;\n}\nmodule.exports = _default;","map":{"version":3,"names":["echarts","require","zrUtil","textContain","featureManager","graphic","Model","DataDiffer","listComponentHelper","_default","extendComponentView","type","render","toolboxModel","ecModel","api","payload","group","removeAll","get","itemSize","featureOpts","features","_features","featureNames","each","opt","name","push","_featureNames","add","processFeature","update","remove","curry","execute","newIndex","oldIndex","featureName","oldName","featureOpt","featureModel","feature","isUserFeatureName","model","onclick","option","Feature","dispose","unusable","createIconPaths","setIconStatus","iconName","status","iconPaths","iconStatus","trigger","iconStyleModel","getModel","iconStyleEmphasisModel","icons","getIcons","titles","icon","title","iconStr","path","createIcon","x","y","width","height","setStyle","getItemStyle","hoverStyle","text","textAlign","textBorderRadius","textPadding","textFill","tooltipModel","attr","extend","content","formatter","formatterParams","componentType","$vars","position","setHoverStyle","__title","on","defaultTextPosition","fill","stroke","textBackgroundColor","textPosition","bind","layout","makeBackground","getBoundingRect","eachChild","titleText","rect","makeFont","offsetX","offsetY","needPutOnTop","getHeight","topOffset","getWidth","updateView","indexOf","module","exports"],"sources":["/Users/tangxinyu/WebstormProjects/cs209a_proj/node_modules/echarts/lib/component/toolbox/ToolboxView.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar featureManager = require(\"./featureManager\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar Model = require(\"../../model/Model\");\n\nvar DataDiffer = require(\"../../data/DataDiffer\");\n\nvar listComponentHelper = require(\"../helper/listComponent\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentView({\n  type: 'toolbox',\n  render: function (toolboxModel, ecModel, api, payload) {\n    var group = this.group;\n    group.removeAll();\n\n    if (!toolboxModel.get('show')) {\n      return;\n    }\n\n    var itemSize = +toolboxModel.get('itemSize');\n    var featureOpts = toolboxModel.get('feature') || {};\n    var features = this._features || (this._features = {});\n    var featureNames = [];\n    zrUtil.each(featureOpts, function (opt, name) {\n      featureNames.push(name);\n    });\n    new DataDiffer(this._featureNames || [], featureNames).add(processFeature).update(processFeature).remove(zrUtil.curry(processFeature, null)).execute(); // Keep for diff.\n\n    this._featureNames = featureNames;\n\n    function processFeature(newIndex, oldIndex) {\n      var featureName = featureNames[newIndex];\n      var oldName = featureNames[oldIndex];\n      var featureOpt = featureOpts[featureName];\n      var featureModel = new Model(featureOpt, toolboxModel, toolboxModel.ecModel);\n      var feature;\n\n      if (featureName && !oldName) {\n        // Create\n        if (isUserFeatureName(featureName)) {\n          feature = {\n            model: featureModel,\n            onclick: featureModel.option.onclick,\n            featureName: featureName\n          };\n        } else {\n          var Feature = featureManager.get(featureName);\n\n          if (!Feature) {\n            return;\n          }\n\n          feature = new Feature(featureModel, ecModel, api);\n        }\n\n        features[featureName] = feature;\n      } else {\n        feature = features[oldName]; // If feature does not exsit.\n\n        if (!feature) {\n          return;\n        }\n\n        feature.model = featureModel;\n        feature.ecModel = ecModel;\n        feature.api = api;\n      }\n\n      if (!featureName && oldName) {\n        feature.dispose && feature.dispose(ecModel, api);\n        return;\n      }\n\n      if (!featureModel.get('show') || feature.unusable) {\n        feature.remove && feature.remove(ecModel, api);\n        return;\n      }\n\n      createIconPaths(featureModel, feature, featureName);\n\n      featureModel.setIconStatus = function (iconName, status) {\n        var option = this.option;\n        var iconPaths = this.iconPaths;\n        option.iconStatus = option.iconStatus || {};\n        option.iconStatus[iconName] = status; // FIXME\n\n        iconPaths[iconName] && iconPaths[iconName].trigger(status);\n      };\n\n      if (feature.render) {\n        feature.render(featureModel, ecModel, api, payload);\n      }\n    }\n\n    function createIconPaths(featureModel, feature, featureName) {\n      var iconStyleModel = featureModel.getModel('iconStyle');\n      var iconStyleEmphasisModel = featureModel.getModel('emphasis.iconStyle'); // If one feature has mutiple icon. they are orginaized as\n      // {\n      //     icon: {\n      //         foo: '',\n      //         bar: ''\n      //     },\n      //     title: {\n      //         foo: '',\n      //         bar: ''\n      //     }\n      // }\n\n      var icons = feature.getIcons ? feature.getIcons() : featureModel.get('icon');\n      var titles = featureModel.get('title') || {};\n\n      if (typeof icons === 'string') {\n        var icon = icons;\n        var title = titles;\n        icons = {};\n        titles = {};\n        icons[featureName] = icon;\n        titles[featureName] = title;\n      }\n\n      var iconPaths = featureModel.iconPaths = {};\n      zrUtil.each(icons, function (iconStr, iconName) {\n        var path = graphic.createIcon(iconStr, {}, {\n          x: -itemSize / 2,\n          y: -itemSize / 2,\n          width: itemSize,\n          height: itemSize\n        });\n        path.setStyle(iconStyleModel.getItemStyle());\n        path.hoverStyle = iconStyleEmphasisModel.getItemStyle(); // Text position calculation\n\n        path.setStyle({\n          text: titles[iconName],\n          textAlign: iconStyleEmphasisModel.get('textAlign'),\n          textBorderRadius: iconStyleEmphasisModel.get('textBorderRadius'),\n          textPadding: iconStyleEmphasisModel.get('textPadding'),\n          textFill: null\n        });\n        var tooltipModel = toolboxModel.getModel('tooltip');\n\n        if (tooltipModel && tooltipModel.get('show')) {\n          path.attr('tooltip', zrUtil.extend({\n            content: titles[iconName],\n            formatter: tooltipModel.get('formatter', true) || function () {\n              return titles[iconName];\n            },\n            formatterParams: {\n              componentType: 'toolbox',\n              name: iconName,\n              title: titles[iconName],\n              $vars: ['name', 'title']\n            },\n            position: tooltipModel.get('position', true) || 'bottom'\n          }, tooltipModel.option));\n        }\n\n        graphic.setHoverStyle(path);\n\n        if (toolboxModel.get('showTitle')) {\n          path.__title = titles[iconName];\n          path.on('mouseover', function () {\n            // Should not reuse above hoverStyle, which might be modified.\n            var hoverStyle = iconStyleEmphasisModel.getItemStyle();\n            var defaultTextPosition = toolboxModel.get('orient') === 'vertical' ? toolboxModel.get('right') == null ? 'right' : 'left' : toolboxModel.get('bottom') == null ? 'bottom' : 'top';\n            path.setStyle({\n              textFill: iconStyleEmphasisModel.get('textFill') || hoverStyle.fill || hoverStyle.stroke || '#000',\n              textBackgroundColor: iconStyleEmphasisModel.get('textBackgroundColor'),\n              textPosition: iconStyleEmphasisModel.get('textPosition') || defaultTextPosition\n            });\n          }).on('mouseout', function () {\n            path.setStyle({\n              textFill: null,\n              textBackgroundColor: null\n            });\n          });\n        }\n\n        path.trigger(featureModel.get('iconStatus.' + iconName) || 'normal');\n        group.add(path);\n        path.on('click', zrUtil.bind(feature.onclick, feature, ecModel, api, iconName));\n        iconPaths[iconName] = path;\n      });\n    }\n\n    listComponentHelper.layout(group, toolboxModel, api); // Render background after group is layout\n    // FIXME\n\n    group.add(listComponentHelper.makeBackground(group.getBoundingRect(), toolboxModel)); // Adjust icon title positions to avoid them out of screen\n\n    group.eachChild(function (icon) {\n      var titleText = icon.__title;\n      var hoverStyle = icon.hoverStyle; // May be background element\n\n      if (hoverStyle && titleText) {\n        var rect = textContain.getBoundingRect(titleText, textContain.makeFont(hoverStyle));\n        var offsetX = icon.position[0] + group.position[0];\n        var offsetY = icon.position[1] + group.position[1] + itemSize;\n        var needPutOnTop = false;\n\n        if (offsetY + rect.height > api.getHeight()) {\n          hoverStyle.textPosition = 'top';\n          needPutOnTop = true;\n        }\n\n        var topOffset = needPutOnTop ? -5 - rect.height : itemSize + 8;\n\n        if (offsetX + rect.width / 2 > api.getWidth()) {\n          hoverStyle.textPosition = ['100%', topOffset];\n          hoverStyle.textAlign = 'right';\n        } else if (offsetX - rect.width / 2 < 0) {\n          hoverStyle.textPosition = [0, topOffset];\n          hoverStyle.textAlign = 'left';\n        }\n      }\n    });\n  },\n  updateView: function (toolboxModel, ecModel, api, payload) {\n    zrUtil.each(this._features, function (feature) {\n      feature.updateView && feature.updateView(feature.model, ecModel, api, payload);\n    });\n  },\n  // updateLayout: function (toolboxModel, ecModel, api, payload) {\n  //     zrUtil.each(this._features, function (feature) {\n  //         feature.updateLayout && feature.updateLayout(feature.model, ecModel, api, payload);\n  //     });\n  // },\n  remove: function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature.remove && feature.remove(ecModel, api);\n    });\n    this.group.removeAll();\n  },\n  dispose: function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature.dispose && feature.dispose(ecModel, api);\n    });\n  }\n});\n\nfunction isUserFeatureName(featureName) {\n  return featureName.indexOf('my') === 0;\n}\n\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}